(()=>{var e=window.Vue.createApp;let t=null,s="-",a=new Intl.NumberFormat("pt-BR",{currency:"BRL",style:"currency"});function i(e,r=document){return r?r.querySelector(e):t}function o(e){return{message:e,succeeded:!1}}e({name:"TalhoOrderPage",setup(){},data(){return{order:t}},async created(){var e,r,t=new URLSearchParams(location.search).get("order");t&&(t=await this.getOrder(t)).succeeded?(this.order=t.data,t=!1,e=i("[data-wtf-loader]"),r="oculto",t=!t,e&&e.classList.toggle(r,t)):location.href="/"},mounted(){},methods:{async getOrder(e){var r="Falha ao capturar o pedido";try{var t=await fetch("https://xef5-44zo-gegm.b2.xano.io/api:5lp3Lw8X/order-details/"+e,{headers:{Accept:"application/json"}});return t.ok?{data:await t.json(),succeeded:!0}:o((await t.json())?.message??r)}catch(e){return o(r)}}},computed:{name(){return this.order?.name??s},email(){return this.order?.email??s},cpf(){return this.order?.cpf_cnpj??s},phone(){return this.order?.phone??s},shipping(){var{number:e=s,cep:r=s,address:t=s,state:i=s,city:a=s,complement:o=s,neighborhood:d=s,user_name:n=s}=this.order?.delivery.address??{};return{user_name:n,cep:r,address:t,number:e,complement:o,neighborhood:d,city:a,state:i}},billing(){var{cep:e=s,address:r=s,number:t=s,complement:i=s,neighborhood:a=s,city:o=s,state:d=s}=this.order?.billing_address??{};return{cep:e,address:r,number:t,complement:i,neighborhood:a,city:o,state:d}},hasOrderDiscount(){return this.order?.discount_code!==t},getOrderSubtotalPriceFormatted(){var e=this.order?.order_items.reduce((e,{unit_price:r,quantity:t})=>e+r*t,0);return a.format(e?e/100:0)},getOrderPriceFormatted(){var e=this.order?.total;return a.format("number"==typeof e?e/100:0)},getOrderShipping(){var e=this.order?.delivery.quotation_price;return"number"==typeof e?e/100:0},getOrderShippingPriceFormatted(){return a.format(this.getOrderShipping)},getOrderDiscountPriceFormatted(){return a.format(-1*(this.order?.discount??0))},getParsedProducts(){var{order_items:e=[]}=this.order??{};return e.map(({name:e,product_id:r,unit_price:t,quantity:i})=>({quantity:i,title:e,key:r,unit_amount:a.format(t/100),final_price:a.format(t*i/100)}))},hasPriority(){return this.order?.delivery.has_priority??!1},getPriorityFee(){return this.hasPriority?this.order?.delivery.priority_price/100:0},getPriorityFeePriceFormatted(){return a.format(this.getPriorityFee)},hasSubsidy(){return this.order?.delivery.has_subsidy??!1},getDeliverySubsidy(){return this.hasSubsidy?-1*Math.min(this.getOrderShipping,this.order?.delivery.subsidy_price/100):0},getDeliverySubsidyPriceFormatted(){return a.format(this.getDeliverySubsidy)}}}).mount(i("#orderapp"))})();