"use strict";(()=>{var T="; ";function d(e){let r=document.cookie.split(T).find(t=>{let{name:o}=x(t);return o===e});return r?x(r).value:!1}function x(e){let[r,t]=e.split("=");return{name:r,value:t}}function v(e,r,t={}){if(e.length===0)throw new Error("'setCookie' should receive a valid cookie name");if(!["string","number","boolean"].includes(typeof r)||r.toString().length===0)throw new Error("'setCookie' should receive a valid cookie value");let o=[`${e}=${r}`];t?.expires&&t?.expires instanceof Date&&o.push("expires="+t.expires.toUTCString()),t.maxAge&&o.push(`maxAge=${t.maxAge}`),t?.sameSite&&typeof t?.sameSite=="string"&&o.push(`SameSite=${t?.sameSite}`),t?.path&&o.push(`path=${t?.path}`),t?.domain&&o.push(`domain=${t?.path}`),t?.httpOnly&&o.push("HttpOnly"),t?.secure&&o.push("Secure");let a=o.join(T);return document.cookie=a,a}var M=401,y="__Host-Talho-AuthToken",_="__Host-Talho-Session-Cookie",w="X-Talho-Session";function P(e){!e||e.status!==M||(location.href=L("/acessos/entrar",{redirect_to:encodeURIComponent(location.pathname)}))}function b(e){let r=e?.headers.get(w);r&&v(_,r,{path:"/",secure:!0,sameSite:"Strict",expires:new Date(Date.now()+O(90))})}function A(e){return b(this),P(this),{message:e,succeeded:!1}}function h(e){return b(this),{data:e,succeeded:!0}}function C(e=[],r="GET"){let t=new Headers({Accept:"application/json","Content-Type":"application/json"});for(let[p,g]of e)t.set(p,g);let o=d(_);o&&t.set(w,o);let a=d(y);return a&&t.set("Authorization",a),{method:r,headers:t}}function O(e){return 86400*1e3*e}var k=new Intl.NumberFormat("pt-BR",{currency:"BRL",style:"currency"});var R=null,m="oculto";function n(e,r=document){return r?r.querySelector(e):R}function E(e,r,t){return e?e.classList.toggle(r,t):!1}function c(e,r){e&&(e.textContent=typeof r=="string"?r:r.toString())}function L(e,r={}){let t=new URL(`${location.protocol}//${location.hostname}`),o=new URL(e,t);for(let[a,p]of Object.entries(r))o.searchParams.set(a,p);return o.toString()}var N={AC:"Acre",AL:"Alagoas",AP:"Amap\xE1",AM:"Amazonas",BA:"Bahia",CE:"Cear\xE1",DF:"Distrito Federal",ES:"Esp\xEDrito Santo",GO:"Goi\xE1s",MA:"Maranh\xE3o",MT:"Mato Grosso",MS:"Mato Grosso do Sul",MG:"Minas Gerais",PA:"Par\xE1",PB:"Para\xEDba",PR:"Paran\xE1",PE:"Pernambuco",PI:"Piau\xED",RJ:"Rio de Janeiro",RN:"Rio Grande do Norte",RS:"Rio Grande do Sul",RO:"Rond\xF4nia",RR:"Roraima",SC:"Santa Catarina",SP:"S\xE3o Paulo",SE:"Sergipe",TO:"Tocantins"},D=Object.keys(N),H=Object.values(N);var I="https://xef5-44zo-gegm.b2.xano.io";(function(){function e(s){if(s)return s.remove()}async function r(s){let u="N\xE3o foi poss\xEDvel localizar as avalia\xE7\xF4es para o produto";try{let i=await fetch(`${I}/api:9ixgU7Er/ratings/${s}/list`,{...C()});if(!i.ok){let S=await i.json();return A.call(i,S?.message??u)}let l=await i.json();return h.call(i,l)}catch{return A(u)}}function t(){let s=document.createDocumentFragment();E(n("[data-wtf-top-product-rating]"),m,!o.hasReviews),E(n("[data-wtf-review-section]"),m,!o.hasReviews),E(n("[data-wtf-review-line]"),m,!o.hasReviews);for(let{name:u,comment:i,rating:l,created_at:S}of o.response?.reviews.items??[]){let f=p?.cloneNode(!0);c(n("[data-wtf-review-average]",f),l.toString()),c(n("[data-wtf-review-customer-name]",f),u),c(n("[data-wtf-review-created-at]",f),S),c(n("[data-wtf-review-comment]",f),i),s.appendChild(f)}c(n("[data-wtf-review-count]"),o.response?.count??0),c(n("[data-wtf-review-media]"),o.response?.average??0),c(n("[data-wtf-review-title]"),o.reviewsCount>1?"Avalia\xE7\xF4es":"Avalia\xE7\xE3o"),c(n("h1",n("[data-wtf-top-product-rating]")),o.response?.average??0),a?.replaceChildren(s)}let o=new Proxy({response:R},{get(s,u){let i=s.response?.count??0;switch(u){case"reviewsCount":return i;case"hasReviews":return i>0;default:return s[u]}},set(s,u,i){let l=Reflect.set(s,u,i);if(!l)return l;switch(u){case"response":t();break}return!0}}),a=n("[data-wtf-review-list]");if(!a)return;let p=n("[data-wtf-review-template]",a);if(!p)return;e(p);let g=location.pathname.split("/").filter(Boolean).at(-1);g&&r(g).then(s=>{s.succeeded&&(o.response=s.data)})})();})();
