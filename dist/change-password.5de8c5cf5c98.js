!function(){"use strict";function e(e){const n=y(document.cookie,"; ").find(n=>{const{name:a}=t(n);return a===e});return!!n&&t(n).value}function t(e){const[t,n]=y(e,"=",2);return{name:t,value:n}}var n="__Host-Talho-AuthToken",a="__Host-Talho-Session-Cookie",o="X-Talho-Session",r={redirect_to:encodeURIComponent(location.pathname+location.search)},s={path:"/",secure:!0,sameSite:"Strict",expires:new Date(Date.now()+1e3*d*14)};function i(e){const t=e?.headers.get(o);t&&function(e,t,n={}){if(0===b(e))throw new Error("'setCookie' should receive a valid cookie name");if(!["string","number","boolean"].includes(typeof t)||0===b(t.toString()))throw new Error("'setCookie' should receive a valid cookie value");const a=[`${e}=${t}`];C(n?.expires&&n?.expires instanceof Date,a,"expires="+n.expires.toUTCString()),C(n.maxAge,a,`maxAge=${n.maxAge}`),C(n?.sameSite&&"string"==typeof n?.sameSite,a,`SameSite=${n?.sameSite}`),C(n?.path,a,`path=${n?.path}`),C(n?.domain,a,`domain=${n?.domain}`),C(n?.httpOnly,a,"HttpOnly"),C(n?.secure,a,"Secure");const o=a.join("; ");document.cookie=o}(a,t,s)}function c(e,t=!1,n){return i(this),t||this&&401===this.status&&function(e="/acessos/entrar",t=r){location.href=S(e,t)}(),n?.(),{message:e,succeeded:!1}}function u(e,t){return i(this),t?.(),{data:e,succeeded:!0}}function f(t=[],r="GET"){const s="application/json",i=new Headers({Accept:s,"Content-Type":s});for(const[e,n]of t)i.set(e,n);const c=e(a);c&&i.set(o,c);const u=e(n);return u&&i.set("Authorization",u),{method:r,headers:i}}var d=86400,l="oculto";function p(e,t=document){return t?t.querySelector(e):null}function h(e,t,n,a){if(e)return e.addEventListener(t,n,a),()=>e.removeEventListener(t,n,a)}function m(e,t){e&&e.removeAttribute(t)}function w(e,t,n){return!!e&&e.classList.toggle(t,n)}function v(e){return w(p("[data-wtf-loader]"),l,!e)}function g(e,t){e&&(e.textContent="string"==typeof t?t:t.toString())}function S(e,t={}){const n=new URL(`${location.protocol}//${location.hostname}`),a=new URL(e,n);for(const[o,r]of Object.entries(t))a.searchParams.set(o,r);return a.toString()}function b(e){return e.length}function L(e,t){e&&e.focus(t)}function y(e,t,n){return e.split(t,n)}function C(e,t,n){return e?t.push(n):-1}function $(e,t){return e===t}new Event("input"),new Event("blur"),document.currentScript?.getAttribute("data-parameter-names"),function(){const t="disabled",a="[data-wtf-wrapper]",o={preventScroll:!1};if(!e(n))return void(location.href=S("/acessos/entrar",{redirect_to:encodeURIComponent(location.pathname)}));function r(e){return function(t){return[e,t]}}function s(e,t){w(e.closest(a),"mensagemdeerro",!t)}async function i(e){const t="Houve uma falha ao atualizar sua senha. Por favor, tente novamente mais tarde.";try{const a=await fetch("https://xef5-44zo-gegm.b2.xano.io/api:TJEuMepe/user/change-password",{...f([],"PUT"),body:(n=e,JSON.stringify(n))});if(!a.ok){const e=await a.json();return c.call(a,e?.message??t)}const o=await a.json();return u.call(a,o)}catch(a){return c(t)}var n}const d=p("#wf-form-update-password"),y=["name","method","data-name","aria-label","data-wf-page-id","data-wf-element-id","data-turnstile-sitekey"];if(d){for(const t of y)m(d,t);const e=d.parentElement;!function(e,...t){e&&e.classList.remove(...t)}(e,"w-form"),d.remove(),e.insertAdjacentHTML("afterbegin",d.outerHTML)}const C=p("[data-wtf-password]"),A=p("[data-wtf-confirm-password]"),T=[{field:C,validator:function(){const e=r("wtfPassword");if(!C)return e(!1);const{hasNumber:t,hasMinLength:n,hasLowercase:a,hasUppercase:o,hasSpecialChar:i}=function(e){const t=(n=e,e=>e.test(n));var n;return{hasNumber:t(/\d/),hasLowercase:t(/[a-z]/),hasUppercase:t(/[A-Z]/),hasMinLength:t(/.{8,}/),hasSpecialChar:t(/[!@#$%^&*()_+{}\[\]:;<>,.?\/~\\-]/)}}(C.value),c=t&&a&&o&&i&&n,u=function({hasNumber:e,hasLowercase:t,hasUppercase:n,hasMinLength:a,hasSpecialChar:o}){const r=(e,t)=>`Sua senha deve conter pelo menos ${e} ${t}`;return a?e?o?t?!n&&r(1,"letra maiúscula"):r(1,"letra minúscula"):r(1,"caractere especial"):r(1,"número"):r(8,"caracteres")}({hasNumber:t,hasLowercase:a,hasUppercase:o,hasMinLength:n,hasSpecialChar:i});return x(C,u||""),s(C,c),b(A?.value??"")>0&&E(C,A)&&k(),e(c)}},{field:A,validator:k}];for(const{field:e,validator:n}of T)e&&(h(e,"blur",n),h(e,"input",()=>s(e,!0)));function x(e,t){e&&g(p("[data-wtf-field-error] div",e.closest(a)),t)}function E(e,t){return e&&t&&$(e?.value,t?.value)}function k(){const e=r("wtfConfirmPassword"),t=E(C,A);return x(A,t?"":"As senhas informadas não conferem"),A&&s(A,t),e(t)}const U=p("#wf-form-update-password"),_=p('[type="submit"]',U);m(_,t),U&&(h(U,"submit",async e=>{var n,a,r;e.preventDefault(),e.stopPropagation(),a=t,r=t,(n=_)&&n.setAttribute(a,r);const s=T.map(({validator:e})=>e).find(e=>$(e().at(1),!1));if(s){const e=p(`[data-${s().at(0).replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}]`,U);return L(e,o),setTimeout(()=>{e?.dispatchEvent(new FocusEvent("blur")),L(e,o)},0),m(_,t)}v(!0);const c=await i({password:U?.password.value,confirm_password:U?.confirm_password.value});if(function(e,t){if(!e)return;const n=!t.succeeded,a=p("[data-wtf-error-update-password]",e),o=p("[data-wtf-success-update-password]",e);w(a,l,!n),w(o,l,n),n?g(a&&p("div",a),t.message):o&&setTimeout(()=>function(e,...t){e&&e.classList.add(...t)}(o,l),8e3)}(U,c),m(_,t),!c.succeeded)return v(!1);U.reset(),v(!1)}),v(!1))}()}();