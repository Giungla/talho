!function(){"use strict";function e(e){const o=document.cookie.split("; ").find(o=>{const{name:n}=t(o);return n===e});return!!o&&t(o).value}function t(e){const[t,o]=e.split("=");return{name:t,value:o}}function o(e,t,o={}){if(0===f(e))throw new Error("'setCookie' should receive a valid cookie name");if(!["string","number","boolean"].includes(typeof t)||0===f(t.toString()))throw new Error("'setCookie' should receive a valid cookie value");const n=[`${e}=${t}`];m(o?.expires&&o?.expires instanceof Date,n,"expires="+o.expires.toUTCString()),m(o.maxAge,n,`maxAge=${o.maxAge}`),m(o?.sameSite&&"string"==typeof o?.sameSite,n,`SameSite=${o?.sameSite}`),m(o?.path,n,`path=${o?.path}`),m(o?.domain,n,`domain=${o?.domain}`),m(o?.httpOnly,n,"HttpOnly"),m(o?.secure,n,"Secure");const a=n.join("; ");return document.cookie=a,a}var n="__Host-Talho-AuthToken",a="__Host-Talho-Session-Cookie",r="X-Talho-Session",s={redirect_to:encodeURIComponent(location.pathname+location.search)},i={path:"/",secure:!0,sameSite:"Strict",expires:new Date(Date.now()+1e3*d*14)};function c(e){const t=e?.headers.get(r);t&&o(a,t,i)}function u(e,t=!1,o){return c(this),t||this&&401===this.status&&function(e="/acessos/entrar",t=s){location.href=function(e,t={}){const o=new URL(`${location.protocol}//${location.hostname}`),n=new URL(e,o);for(const[a,r]of Object.entries(t))n.searchParams.set(a,r);return n.toString()}(e,t)}(),o?.(),{message:e,succeeded:!1}}function h(e,t){return c(this),t?.(),{data:e,succeeded:!0}}function l(t=[],o="GET"){const s="application/json",i=new Headers({Accept:s,"Content-Type":s});for(const[e,n]of t)i.set(e,n);const c=e(a);c&&i.set(r,c);const u=e(n);return u&&i.set("Authorization",u),{method:o,headers:i}}var d=86400;function f(e){return e.length}function m(e,t,o){return e?t.push(o):-1}new Event("input"),new Event("blur"),function(){const t="/area-do-usuario/pedidos-de-compra";e(n)?location.href=t:async function(e){const t="Houve uma falha na autenticação via Google. Por favor, tente novamente mais tarde.";if(!1===e)return u(t);const o=new URL("https://xef5-44zo-gegm.b2.xano.io/api:h_RKfex8/oauth/google/continue");o.searchParams.set("code",e),o.searchParams.set("redirect_uri",location.origin.concat(location.pathname));const n=new URL(location.href),a=["code","scope","authuser","hd","prompt"];for(const s of a)n.searchParams.delete(s);history.replaceState(null,"",n.toString());try{const e=await fetch(o,{...l(),priority:"high",keepalive:!0});if(!e.ok){const o=await e.json();return u.call(e,o?.message??t)}const n=await e.json();return h.call(e,n)}catch(r){return u(t)}}(new URLSearchParams(location.search).get("code")??!1).then(e=>{e.succeeded&&(o(n,e.data.token,{path:"/",secure:!0,sameSite:"Strict",expires:new Date(e.data.maxAge)}),location.href=e.data.firstAccess?"/area-do-usuario/troca-de-senha":t)})}()}();