(()=>{let t="; ",r="disabled",n="oculto",s="mensagemdeerro",m="[data-wtf-wrapper]",o={preventScroll:!1},i={block:"center",behavior:"smooth"};function u(e,a,t,r){e&&e.addEventListener(a,t,r)}function p(e,a=document){return a?a.querySelector(e):null}function c(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function l(e){var[e,a]=e.split("=");return{name:e,value:a}}function e(){var a,e;return a="__Host-Talho-AuthToken",!!(e=document.cookie.split(t).find(e=>{e=l(e).name;return e===a}))&&l(e).value}function d(e,a){var t=!a.succeeded;let r=p("[data-wtf-success-message]",e);v(N,n,!t),v(r,n,t),t?(e=a.message,(t=N)&&(t=p("div",t))&&(t.textContent=e)):setTimeout(()=>M(r,n),8e3)}function f(e,a){e&&e.removeAttribute(a)}function h(a){return function(e){return[a,e]}}function v(e,a,t){e&&e.classList.toggle(a,t)}function w(e,a){e&&(e=e.closest("[data-wtf-wrapper]"))&&v(e,s,!a)}function g(e){return{message:e,succeeded:!1}}if(e())return location.href="/area-do-usuario/pedidos-de-compra";var a,L=p("#wf-form-register");if(L){for(a of["name","method","data-name","aria-label","data-wf-page-id","data-wf-element-id","data-turnstile-sitekey","data-wf-user-form-type"])f(L,a);var b=L.parentElement;_(b,"w-form"),L.remove(),b.insertAdjacentHTML("afterbegin",L.outerHTML)}let y=p("#wf-form-register"),N=p("[data-wtf-general-error-message]",y),S=p("[data-wtf-name]",y),k=p("[data-wtf-last-name]",y),A=p("[data-wtf-email]",y),C=p("[data-wtf-password]",y),$=p("[data-wtf-consent]",y),z=p("[data-wtf-optin]",y),T=p('input[type="submit"]',y);function M(e,...a){e&&e.classList.add(...a)}function _(e,...a){e&&e.classList.remove(...a)}let E=[{field:S,validator:function(){var e,a=h("wtfUser");return S?(e=c(S.value).trim().replace(/\s{2,}/g," "),e=!/\d+/.test(e)&&1<e.length,w(S,e),a(e)):a(!1)}},{field:k,validator:function(){var e,a=h("wtfLastName");return k?(e=c(k.value).trim().replace(/\s{2,}/g," "),e=!/\d+/.test(e)&&0<e.length,w(k,e),a(e)):a(!1)}},{field:A,validator:function(){var e,a=h("wtfEmail");return A?(e=/^(([\p{L}\p{N}!#$%&'*+\/=?^_`{|}~-]+(\.[\p{L}\p{N}!#$%&'*+\/=?^_`{|}~-]+)*)|("[\p{L}\p{N}\s!#$%&'*+\/=?^_`{|}~.-]+"))@(([a-zA-Z0-9]+(-[a-zA-Z0-9]+)*\.)+[a-zA-Z]{2,63}|(\[(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\]))$/u.test(A.value),w(A,e),a(e)):a(!1)}},{field:C,validator:function(){var e,a,t,r,n,s,o,i,u,c,l,d,f=h("wtfPassword");return C?({hasNumber:n,hasLowercase:e,hasUppercase:a,hasMinLength:t,hasSpecialChar:r}=(n=C.value,s=n,{hasNumber:(n=e=>e.test(s))(/\d/),hasLowercase:n(/[a-z]/),hasUppercase:n(/[A-Z]/),hasMinLength:n(/.{8,}/),hasSpecialChar:n(/[!@#$%^&*()_+{}\[\]:;<>,.?\/~\\-]/)}),{hasNumber:c,hasLowercase:d,hasUppercase:o,hasMinLength:i,hasSpecialChar:l}=[{hasNumber:n,hasLowercase:e,hasUppercase:a,hasMinLength:t,hasSpecialChar:r}][0],u=(e,a)=>`Sua senha deve conter pelo menos ${e} ${a}.`,i=i?c?l?d?!o&&u(1,"letra maiúscula"):u(1,"letra minúscula"):u(1,"caractere especial"):u(1,"número"):u(8,"caracteres"),c=n&&e&&a&&r&&t,l=C,d=i||"",l&&(l=l.closest(m))&&(l=p("[data-wtf-field-error] div",l))&&(l.textContent=d),w(C,c),f(c)):f(!1)}}];for(let{field:e,validator:a}of E)u(e,"blur",a),u(e,"input",()=>w(e,!0));u($,"input",function(){var e,a=h("wtfConsent");return $?(e=$.checked,w($,e),a(e)):a(!1)},!1),u(y,"reset",()=>{let a="w--redirected-checked";document.querySelectorAll(`#${y?.id} .`+a).forEach(e=>{_(e,a)})}),u(y,"submit",async e=>{e.preventDefault(),e.stopPropagation(),e=T,a=r,t=r,e&&e.setAttribute(a,t);e=E.find(({validator:e})=>!1===e().at(1));if(e)return d(y,g("Houve uma falha ao validar os seus dados. Por favor, tente novamente.")),a=e.field,t=o,a&&a.focus(t),f(T,r);var a,t,e=await(async e=>{var a="Houve uma falha ao realizar o cadastro. Por favor, tente novamente mais tarde.";try{var t=await fetch("https://xef5-44zo-gegm.b2.xano.io/api:t3reRXiD/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return t.ok?{data:await t.json(),succeeded:!0}:g((await t.json())?.message??a)}catch(e){return g(a)}})({name:S?.value,lastName:k?.value,email:A?.value,password:C?.value,optin:z?.checked,consent:$?.checked});d(y,e),f(T,r),e.succeeded&&(y?.reset(),a=N,t=i,a)&&a.scrollIntoView(t)}),M(y?.parentElement,"w-form"),f(T,r)})();