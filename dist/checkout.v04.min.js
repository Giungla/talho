(()=>{let{ref:e,createApp:t}=Vue,n="",a="/",r=null,s="error",d="https://xef5-44zo-gegm.b2.xano.io",o=(d,d+"/api:5lp3Lw8X"),i=d+"/api:24B7O9Aj",l={headers:{Accept:"application/json","Content-Type":"application/json"}},h={method:"POST",...l},u={AC:"Acre",AL:"Alagoas",AP:"Amapá",AM:"Amazonas",BA:"Bahia",CE:"Ceará",DF:"Distrito Federal",ES:"Espírito Santo",GO:"Goiás",MA:"Maranhão",MT:"Mato Grosso",MS:"Mato Grosso do Sul",MG:"Minas Gerais",PA:"Pará",PB:"Paraíba",PR:"Paraná",PE:"Pernambuco",PI:"Piauí",RJ:"Rio de Janeiro",RN:"Rio Grande do Norte",RS:"Rio Grande do Sul",RO:"Rondônia",RR:"Roraima",SC:"Santa Catarina",SP:"São Paulo",SE:"Sergipe",TO:"Tocantins"},c=Object.keys(u),p=[10,11],m=new WeakMap,B=new Event("input"),g="same",C="diff",y="pix",v="creditcard",b=(y,v,new Intl.NumberFormat("pt-BR",{currency:"BRL",style:"currency"}));function P(e){return t="[data-wtf-loader]",i=document,i=i?i.querySelector(t):r,t="oculto",e=!e,!!i&&i.classList.toggle(t,e);var t,i}function V(e,t){return Object.hasOwn(e,t)}function f(e){return JSON.stringify(e)}function E(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,n)}function D(e){return e.replace(/\D+/g,n)}function S(e){return e.trim()}function A(e){return e.length}function N(e,t,i){return e?t.push(i):-1}function w(e,t){return e.includes(t)}function M(e,t){return e.test(t)}function R(...i){return{mounted(t){var e=k(t,"input",e=>{e.isTrusted&&((e=e.target).value=i.reduce((e,t)=>t(e),e.value??n),t.dispatchEvent(B))});m.set(t,e)},unmounted:j}}function F(e,t,i){return{field:e,valid:t,...i&&{ignoreIf:i}}}function I(e){return{message:e,succeeded:!1}}function H(e){return{data:e,succeeded:!0}}function k(e,t,i,r){if(e)return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)}let j=e=>{var t=m.get(e);t&&(t(),m.delete(e))};t({name:"TalhoCheckoutApp",setup(){return{customerCPF:e(n),customerMail:e(n),customerPhone:e(n),customerBirthdate:e(n),customerCreditCardCVV:e(n),customerCreditCardDate:e(n),customerCreditCardNumber:e(n),customerCreditCardHolder:e(n),billingCEP:e(n),billingAddress:e(n),billingNumber:e(n),billingComplement:e(n),billingNeighborhood:e(n),billingCity:e(n),billingState:e(n),shippingRecipient:e(n),shippingCEP:e(n),shippingAddress:e(n),shippingNumber:e(n),shippingComplement:e(n),shippingNeighborhood:e(n),shippingCity:e(n),shippingState:e(n),couponCode:e(n),customerMailElement:e(r),customerCPFElement:e(r),customerPhoneElement:e(r),customerBirthdateElement:e(r),paymentMethodMessageElement:e(r),customerCreditCardCVVElement:e(r),customerCreditCardDateElement:e(r),customerCreditCardNumberElement:e(r),customerCreditCardHolderElement:e(r),billingCEPElement:e(r),billingAddressElement:e(r),billingNumberElement:e(r),billingNeighborhoodElement:e(r),billingCityElement:e(r),billingStateElement:e(r),deliveryPlaceMessageElement:e(r),shippingRecipientElement:e(r),shippingCEPElement:e(r),shippingAddressElement:e(r),shippingNumberElement:e(r),shippingNeighborhoodElement:e(r),shippingCityElement:e(r),shippingStateElement:e(r),deliveryDateMessageElement:e(r),deliveryHourMessageElement:e(r),installmentsMessageElement:e(r),couponCodeElement:e(r)}},data(){return{hasPendingPayment:!1,isSubmitted:!1,productlist:r,visitedFields:[],selectedPayment:r,availablePayments:[{label:"Cartão de crédito",method:v},{label:"PIX",method:y}],deliveryPlace:r,deliveryPlaces:[{token:g,label:"Mesmo endereço de cobrança do cartão"},{token:C,label:"Entregar em um endereço diferente"}],installment:r,selectedInstallment:r,isCouponPending:!1,coupon:r,isPagSeguroLoaded:!1,deliveryDate:r,deliveryDates:r,deliveryHour:r,deliveryHours:r}},created(){this.refreshCart().then(()=>P(!1)),window.addEventListener("storage",e=>{"talho_cart_items"===e.key&&this.refreshCart()})},methods:{async getCart(){var t="Falha ao capturar os produtos";try{var e=await fetch("https://xef5-44zo-gegm.b2.xano.io/api:79PnTkh_/cart/get",{...l,credentials:"include"});return e.ok?H(await e.json()):I((await e.json())?.message??t)}catch(e){return I(t)}},async refreshCart(){return this.getCart().then(e=>{e.succeeded&&(this.productlist=e.data)})},async getInstallments(){var t="Falha ao capturar o parcelamento";try{var e=await fetch(o+"/calculatefees",{...h,cache:"force-cache",body:f({amount:this.getOrderPrice,cardBin:this.customerCreditCardNumber.replace(/\D+/g,n).slice(0,8)})});return e.ok?H(await e.json()):I((await e.json())?.message??t)}catch(e){return I(t)}},async refreshInstallments(){var e;this.isCreditCard&&(this.installment=r,this.selectedInstallment=r,(e=await this.getInstallments()).succeeded)&&(this.installment=e.data)},setSelectedInstallmentsCount(e){var t,i;this.selectedInstallment!==e&&(this.selectedInstallment=(t=1,i=2,Math.max(t,Math.min(i,e))))},setSelectedPaymentMethod(e){this.selectedPayment!==e&&(this.hasDeliveryDates||this.handleDeliveryDates(),e!==v&&this.clearCreditCardData(),e!==v||this.isPagSeguroLoaded||this.loadPagSeguro(),this.selectedPayment=e)},setVisitedField(e){return N(!w(this.visitedFields,e),this.visitedFields,e)},hasVisitRegistry(e){return w(this.visitedFields,e)},async handlePayment(e){if(e.preventDefault(),!this.hasPendingPayment)if(this.triggerValidations(),this.isSubmitted){let e=this.firstInvalidField;var t,i;e?(t=e.field,i={block:"center",behavior:"smooth"},t.scrollIntoView(i),"INPUT"===e.field.tagName&&setTimeout(()=>e.field.focus(),500)):(this.hasPendingPayment=P(!0),(t=await(0,{pix:this.handleProcessPIX,creditcard:this.handleProcessCreditCard,error:async()=>I("Houve uma falha no envio de seu pedido")}[this.selectedPayment??s])?.()).succeeded?(i=this.isCreditCard?"confirmacao-do-pedido":"pix",location.href=((e,t)=>{var i,r,s=new URL(location.protocol+"//"+location.hostname),a=new URL(e,s);for([i,r]of Object.entries(t))a.searchParams.set(i,r);return a.toString()})(["/pagamento",i].join(a),{order:t.data.transactionid})):(this.hasPendingPayment=P(!1),alert("Pagamento falhou")))}else this.isSubmitted=!0,Vue.nextTick(()=>this.handlePayment(e))},async handleProcessPIX(){var t="Falha ao gerar o pedido";try{var e=await fetch(o+"/process_pix",{...h,credentials:"include",body:f({...this.getOrderBaseData,customer:{...this.getParsedCustomer,...this.getParsedAddresses}})});return e.ok?H(await e.json()):I((await e.json())?.message??t)}catch(e){return I(t)}},async handleProcessCreditCard(){var i="Falha ao gerar o pedido";try{let t=this.selectedInstallment;var e=await fetch(o+"/process_creditcard",{...h,credentials:"include",body:f({...this.getOrderBaseData,customer:{...this.getParsedCustomer,...this.getParsedAddresses},is_same_address:this.isSameAddress,credit_card_info:{holderName:this.customerCreditCardHolder,creditCardToken:this.getCreditCardToken.encryptedCard??n,numberOfPayments:t,installmentValue:this.installment?.find(({installments:e})=>e===t)?.installment_value??0}})});return e.ok?H(await e.json()):I((await e.json())?.message??i)}catch(e){return I(i)}},triggerValidations(){var e;for({field:e}of this.notIgnoredFields)e?.dispatchEvent(new Event("blur"))},feedAddress(e,{uf:t,bairro:i,logradouro:r,localidade:s}){"billing"===e?(this.billingAddress=r,this.billingNeighborhood=i,this.billingCity=s,this.billingState=t):(this.shippingAddress=r,this.shippingNeighborhood=i,this.shippingCity=s,this.shippingState=t)},setDeliveryPlace(e){this.deliveryPlace!==e&&(this.deliveryPlace=e)},async captureAddress(e,t,i){M(/^\d{5}-\d{3}$/,t)&&t!==i&&(i=e+"CEP",(t=await(async e=>{var t="Não foi possível encontrar o endereço";if(8!==(e=D(e)).length)return I(t);try{var i=await fetch(d+"/api:jyidAW68/cepaddress/"+e);return i.ok?H(await i.json()):I((await i.json())?.message??t)}catch(e){return I(t)}})(t)).succeeded?this.feedAddress(e,t.data):(this[i]=n,this.setVisitedField(i)))},async captureCoupon(){var t="Falha ao capturar o cupom indicado";try{var e=await fetch(o+"/get_coupon",{...h,credentials:"include",body:f({verify_amount:!0,coupon_code:this.couponCode,cpf:this.customerCPF&&r})});return e.ok?H(await e.json()):I((await e.json())?.message??t)}catch(e){return I(t)}},async handleSearchCoupon(){var e;this.isCouponPending||(this.isCouponPending=!0,e=await this.captureCoupon(),this.isCouponPending=!1,e.succeeded?this.coupon=e.data:this.coupon={error:!0,message:e.message})},handleRemoveCoupon(){this.coupon=r,this.couponCode=n},loadPagSeguro(){var e=document.createElement("script");e.async=!0,e.src="https://assets.pagseguro.com.br/checkout-sdk-js/rc/dist/browser/pagseguro.min.js",e.onload=()=>{this.isPagSeguroLoaded=!0},document.head.appendChild(e)},clearCreditCardData(){this.customerCreditCardHolder=n,this.customerCreditCardNumber=n,this.customerCreditCardDate=n,this.customerCreditCardCVV=n},async captureAvailableDeliveryDates(){var t="Falha ao capturar as datas";try{var e=await fetch(i+"/delivery_dates",{cache:"force-cache"});return e.ok?H(await e.json()):I((await e.json())?.message??t)}catch(e){return I(t)}},async handleDeliveryDates(){var e=await this.captureAvailableDeliveryDates();e.succeeded&&(this.deliveryDates=e.data)},setDeliveryDate(t){var e=this.deliveryDates?.find(e=>e.shiftDays===t)?.date;e&&this.deliveryDate!==e&&(this.deliveryDate=e,this.deliveryHour=r,this.handleDeliveryHours())},async captureAvailableDeliveryHours(){var t="Falha ao capturar os horários";try{var e=await fetch(i+"/delivery_hours?date="+this.deliveryDate,{cache:"force-cache"});return e.ok?H(await e.json()):I((await e.json())?.message??t)}catch(e){return I(t)}},async handleDeliveryHours(){var e=await this.captureAvailableDeliveryHours();e.succeeded&&(this.deliveryHours=e.data)},setDeliveryHour(e){this.deliveryHour!==e&&0!==this.deliveryHours?.periods_count&&w(this.deliveryHours?.hours??[],e)&&(this.deliveryHour=e)}},computed:{hasSelectedPaymentMethod(){return this.selectedPayment!==r},isCreditCard(){return this.selectedPayment===v},getOrderSubtotal(){return this.productlist?.order_price??0},getOrderSubtotalFormatted(){return b.format(this.getOrderSubtotal)},getOrderPrice(){return[this.getOrderSubtotal,this.getShippingPrice,this.getCouponDiscountPrice].reduce((e,t)=>e+t,0)},getOrderPriceFormatted(){return b.format(this.getOrderPrice)},getShippingPrice(){return 34.9},getShippingPriceFormatted(){return b.format(this.getShippingPrice)},getCouponDiscountPrice(){var e,t,i;return this.hasNullCoupon||this.hasInvalidCoupon?0:({value:e,is_percentage:t}=this.coupon,i=this.getParsedPriceForApplyDiscount,t?Math.min(e/100,1)*(-1*i):-1*Math.min(i,e))},getCouponDiscountPriceFormatted(){return b.format(this.getCouponDiscountPrice)},getParsedPriceForApplyDiscount(){return this.hasNullCoupon||this.hasInvalidCoupon?0:{subtotal:this.getOrderSubtotal,shipping:this.getShippingPrice,product_id:0}[this.coupon.cupom_type]},getParsedProducts(){var e=this.productlist?.items;return e?e.map(({name:e,imageUrl:t,quantity:i,price:r})=>({name:e,image:t,quantity:i,price:b.format(r),finalPrice:b.format(r*i)})):[]},isPersonalDataValid(){return!this.isSubmitted||[this.customerMailValidation.valid,this.customerBirthdateValidation.valid,this.customerCPFValidation.valid,this.customerPhoneValidation.valid].every(Boolean)},customerMailValidation(){return F(this.customerMailElement,!this.hasVisitRegistry("customerMail")||M(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.customerMail))},customerBirthdateValidation(){var e=this.customerBirthdate;return F(this.customerBirthdateElement,!this.hasVisitRegistry("customerBirthdate")||M(/^\d{2}\/\d{2}\/\d{4}$/,e)&&(e=>{var[e,t,i]=e.split(a);return"Invalid Date"!==new Date(i+`-${t}-${e}T00:00:00`).toString()})(e))},customerCPFValidation(){var t,e=this.customerCPF;return F(this.customerCPFElement,!this.hasVisitRegistry("customerCPF")||M(/^\d{3}\.\d{3}\.\d{3}-\d{2}$/,this.customerCPF)&&11===(t=D(t=e)).length&&!/^(\d)\1{10}$/.test(t)&&(e=p.map((r,e)=>{e=11-[...t.slice(0,e?10:9)].map(Number).reduce((e,t,i)=>e+t*(r-i),0)%11;return 9<e?0:e}),t.endsWith(e.join(n))))},customerPhoneValidation(){return F(this.customerPhoneElement,!this.hasVisitRegistry("customerPhone")||M(/\(\d{2}\)\s\d{4,5}-\d{4}/,this.customerPhone))},paymentMethodValidation(){return F(this.paymentMethodMessageElement,this.selectedPayment!==r)},customerCreditCardHolderValidation(){return F(this.customerCreditCardHolderElement,!this.hasVisitRegistry("customerCreditCardHolder")||/^(\w{2,})(\s+(\w+))+$/.test(E(S(this.customerCreditCardHolder).replace(/\s{2,}/g," "))),!this.isCreditCard)},customerCreditCardNumberValidation(){return F(this.customerCreditCardNumberElement,!this.hasVisitRegistry("customerCreditCardNumber")||M(/^(\d{4})(\s\d{4}){2}(\s\d{3,4})$/,S(this.customerCreditCardNumber)),!this.isCreditCard)},customerCreditCardDateValidation(){var e,t=this.customerCreditCardDate;return F(this.customerCreditCardDateElement,!this.hasVisitRegistry("customerCreditCardDate")||M(/^(1[012]|0[1-9])\/\d{2}$/,t)&&2===(t=(t=t).split(a)).length&&([t,e]=t,t=parseInt(t,10),e=parseInt(e,10),!(isNaN(t)||isNaN(e)||t<1||12<t))&&new Date<new Date(2e3+(e<100?e:0),t,0,23,59,59),!this.isCreditCard)},customerCreditCardCVVValidation(){return F(this.customerCreditCardCVVElement,!this.hasVisitRegistry("customerCreditCardCVV")||M(/^\d{3}$/,this.customerCreditCardCVV),!this.isCreditCard)},isCreditCardGroupValid(){return[this.customerCreditCardHolderValidation.valid,this.customerCreditCardNumberValidation.valid,this.customerCreditCardDateValidation.valid,this.customerCreditCardCVVValidation.valid].every(Boolean)},billingCEPValidation(){return F(this.billingCEPElement,!this.hasVisitRegistry("billingCEP")||M(/^\d{5}-\d{3}$/,this.billingCEP),!this.isCreditCard)},billingAddressValidation(){return F(this.billingAddressElement,!this.hasVisitRegistry("billingAddress")||2<A(S(this.billingAddress)),!this.isCreditCard)},billingNumberValidation(){return F(this.billingNumberElement,!this.hasVisitRegistry("billingNumber")||0<A(this.billingNumber),!this.isCreditCard)},billingNeighborhoodValidation(){return F(this.billingNeighborhoodElement,!this.hasVisitRegistry("billingNeighborhood")||0<A(this.billingNeighborhood),!this.isCreditCard)},billingCityValidation(){return F(this.billingCityElement,!this.hasVisitRegistry("billingCity")||2<A(this.billingCity),!this.isCreditCard)},billingStateValidation(){return F(this.billingStateElement,!this.hasVisitRegistry("billingState")||w(c,this.billingState),!this.isCreditCard)},isBillingAddressGroupValid(){return[this.billingCEPValidation,this.billingAddressValidation,this.billingNumberValidation,this.billingNeighborhoodValidation,this.billingCityValidation,this.billingStateValidation].every(e=>e.valid)},deliveryPlaceValidation(){return F(this.deliveryPlaceMessageElement,this.hasSelectedAddress,!this.isCreditCard)},shippingRecipientValidation(){return F(this.shippingRecipientElement,!this.hasVisitRegistry("shippingRecipient")||M(/^(\w{2,})(\s+(\w+))+$/,E(S(this.shippingRecipient)).replace(/\s{2,}/g," ")),!this.shouldValidateShippingAddress)},shippingCEPValidation(){return F(this.shippingCEPElement,!this.hasVisitRegistry("shippingCEP")||M(/^\d{5}-\d{3}$/,this.shippingCEP),!this.shouldValidateShippingAddress)},shippingAddressValidation(){return F(this.shippingAddressElement,!this.hasVisitRegistry("shippingAddress")||2<A(S(this.shippingAddress)),!this.shouldValidateShippingAddress)},shippingNumberValidation(){return F(this.shippingNumberElement,!this.hasVisitRegistry("shippingNumber")||0<A(S(this.shippingNumber)),!this.shouldValidateShippingAddress)},shippingNeighborhoodValidation(){return F(this.shippingNeighborhoodElement,!this.hasVisitRegistry("shippingNeighborhood")||3<A(S(this.shippingNeighborhood)),!this.shouldValidateShippingAddress)},shippingCityValidation(){return F(this.shippingCityElement,!this.hasVisitRegistry("shippingCity")||2<A(S(this.shippingCity)),!this.shouldValidateShippingAddress)},shippingStateValidation(){return F(this.shippingStateElement,!this.hasVisitRegistry("shippingState")||w(c,this.shippingState),!this.shouldValidateShippingAddress)},isShippingAddressGroupValid(){return[this.shippingCEPValidation,this.shippingAddressValidation,this.shippingNumberValidation,this.shippingNeighborhoodValidation,this.shippingCityValidation,this.shippingStateValidation].every(e=>e.valid)},deliveryDatesGroupValidation(){return F(this.deliveryDateMessageElement,this.deliveryDate!==r,!this.paymentMethodValidation.valid)},deliveryHoursGroupValidation(){return F(this.deliveryHourMessageElement,this.deliveryHour!==r,!this.deliveryDatesGroupValidation.valid)},installmentGroupValidation(){return F(this.installmentsMessageElement,this.selectedInstallment!==r,!this.isCreditCard||!this.paymentMethodValidation.valid)},notIgnoredFields(){return[this.customerMailValidation,this.customerBirthdateValidation,this.customerCPFValidation,this.customerPhoneValidation,this.paymentMethodValidation,this.customerCreditCardHolderValidation,this.customerCreditCardNumberValidation,this.customerCreditCardDateValidation,this.customerCreditCardCVVValidation,this.billingCEPValidation,this.billingAddressValidation,this.billingNumberValidation,this.billingNeighborhoodValidation,this.billingCityValidation,this.billingStateValidation,this.deliveryPlaceValidation,this.shippingRecipientValidation,this.shippingCEPValidation,this.shippingAddressValidation,this.shippingNumberValidation,this.shippingNeighborhoodValidation,this.shippingCityValidation,this.shippingStateValidation,this.deliveryDatesGroupValidation,this.deliveryHoursGroupValidation,this.installmentGroupValidation].filter(({ignoreIf:e})=>w([!1,void 0],e))},firstInvalidField(){return this.notIgnoredFields.find(({valid:e})=>!e)??r},hasSelectedAddress(){return this.deliveryPlace!==r},isSameAddress(){return this.deliveryPlace===g},isDiffAddress(){return this.deliveryPlace===C},shouldValidateShippingAddress(){return!this.isCreditCard||this.showShippingAddressSelector&&!this.isSameAddress},showShippingAddressSelector(){return!this.isCreditCard||(this.isCreditCard,this.hasSelectedAddress)},getParsedAddresses(){var e=e=>u[e]??n,t=e=>S(e).replace(/-+/g,n)||"N/A",i={zipPostalCode:this.shippingCEP,street:this.shippingAddress,number:this.shippingNumber,complement:t(this.shippingComplement),neighbourhood:this.shippingNeighborhood,city:this.shippingCity,state:e(this.shippingState)},t={zipPostalCode:this.billingCEP,street:this.billingAddress,number:this.billingNumber,complement:t(this.billingComplement),neighbourhood:this.billingNeighborhood,city:this.billingCity,state:e(this.billingState)};return this.isCreditCard?{billingaddress:t,shippingaddress:this.isSameAddress?t:i}:{shippingaddress:i,billingaddress:i}},getParsedCustomer(){return{name:this.isCreditCard?this.customerCreditCardHolder:this.shippingRecipient,cpf:this.customerCPF,email:this.customerMail,birthDate:this.customerBirthdate,phone:this.customerPhone}},getOrderBaseData(){return{user_id:r,coupon_code:this.hasInvalidCoupon||this.hasNullCoupon?r:this.coupon?.code,delivery:{delivery_hour:this.deliveryHour,delivery_date:this.deliveryDate}}},showInstallmentSection(){return this.isCreditCard&&0<A(this.installment??[])},getParsedInstallments(){var e=this.installment;return e?e.map(({installments:e,installment_value:t})=>({installments:e,installment_value:b.format(t)})):[]},hasNullCoupon(){return this.coupon===r},hasAppliedCoupon(){return V(this.coupon??{},"cupom_type")},hasInvalidCoupon(){return V(this.coupon??{},s)},isCouponCodeValid(){var e=this.couponCode;return 4<A(S(e))&&!M(/[^A-Z\d]/,e)},getCreditCardToken(){var e,t;return this.isPagSeguroLoaded?([e,t]=this.customerCreditCardDate.split(a),window.PagSeguro.encryptCard({expMonth:e,expYear:"20".concat(t),holder:this.customerCreditCardHolder,securityCode:this.customerCreditCardCVV,number:D(this.customerCreditCardNumber),publicKey:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxPIKWT6ettkFKqSyfoUpH/550Q8YQtRf7ZYJJbV3U7/4HBtamJT9If4wiLs2YlEfwTPWlB5Cl0jGmkBSQkjIDF+QTOSJviZYKgiuR7Bnavgt+idkcZsd5hM1I6u1uwOJJE3wSSXg+Nw70GZCeg7A6bmq9tOu1827En/ZFKWBXqv9Upc7q/Y6N0XMzZ3CL1j6ZlhnCalQzzaV9whijxK22lIL78gLEUcnmEO7CUX6DyfcdlA13MM4X538k2eYUosdnKafCEDNVcT+PPUeUdJZ0CpBWA9c/XtO0BIbTXHTsDuDlX0r7BF0vMFJMi0D9lkFCavY/kjZEQYhnXMtrWlUWwIDAQAB"})):{errors:[],hasErrors:!1,encryptedCard:r}},hasDeliveryDates(){var e=this.deliveryDates;return Array.isArray(e)&&0<A(e)},getParsedDeliveryDates(){if(!this.hasDeliveryDates)return[];let r=this.deliveryDate;return this.deliveryDates.map(({date:e,shiftDays:t})=>{var i=new Date(e+"T00:00:00");return{shiftDays:t,selected:r===e,date:i.toLocaleDateString("pt-BR",{month:"long",day:"numeric",weekday:"long"})}})},hasDeliveryHour(){return this.deliveryHours!==r&&0<A(this.deliveryHours.hours)},getParsedDeliveryHours(){if(!this.deliveryDate||!this.hasDeliveryHour)return[];let t={hour12:!0,hour:"2-digit",minute:"2-digit"};return this.deliveryHours.hours.map(e=>({hour:e,label:new Date(this.deliveryDate+`T${e}:00`).toLocaleTimeString("pt-BR",t)}))}},watch:{billingCEP(e,t){this.captureAddress("billing",e.toString(),t)},shippingCEP(e,t){this.captureAddress("shipping",e,t)},getOrderPrice:{immediate:!0,handler:function(){this.refreshInstallments()}},getCreditCardToken(e){e.hasErrors||this.refreshInstallments()}},directives:{maskDate:R(D,function(e){return e.replace(/^(\d{0,2})(\d{0,2})(\d{0,4})/,(e,t,i,r)=>[t,i,r].filter(Boolean).join(a))}),maskCpf:R(D,function(e){return e.replace(/^(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,2})/,(e,t,i,r,s)=>{var a=[];return N(t,a,""+t),N(i,a,"."+i),N(r,a,"."+r),N(s,a,"-"+s),a.join(n)})}),maskPhone:R(D,function(e){var t=(e,t,i,r)=>{var s=[];return N(t,s,"("+t),N(i,s,") "+i),N(r,s,"-"+r),s.join(n)};return e.length<11?e.replace(/^(\d{0,2})(\d{0,4})(\d{0,4})/,t):e.replace(/^(\d{0,2})(\d{0,5})(\d{0,4})/,t)}),maskCreditCard:R(D,function(e){return e.replace(/^(\d{0,4})(\d{0,4})(\d{0,4})(\d{0,4})/,(e,t,i,r,s)=>{var a,n=[];for(a of[t,i,r,s])N(a,n,a);return n.join(" ")})}),maskCreditCardDate:R(D,function(e){return e.replace(/^(\d{0,2})(\d{0,2})/,(e,t,i)=>{var r,s=[];for(r of[t,i])N(r,s,r);return s.join(a)})}),maskNumberOnly:R(D),maskCep:R(D,function(e){return e.replace(/^(\d{0,5})(\d{0,3})/,(e,t,i)=>{var r,s=[];for(r of[t,i])N(r,s,r);return s.join("-")})}),upperCase:R(function(e){return e.toUpperCase()}),normalize:R(E),visitedField:{mounted(t,{value:i,instance:r}){var e=k(t,"blur",e=>{r.setVisitedField(i),m.delete(t)},{once:!0});m.set(t,e)},unmounted:j}}}).mount("#fechamentodopedido")})();