"use strict";(()=>{var j="; ";function C(r){let s=document.cookie.split(j).find(o=>{let{name:u}=G(o);return u===r});return s?G(s).value:!1}function G(r){let[s,o]=r.split("=");return{name:s,value:o}}function k(r,s,o={}){if(r.length===0)throw new Error("'setCookie' should receive a valid cookie name");if(!["string","number","boolean"].includes(typeof s)||s.toString().length===0)throw new Error("'setCookie' should receive a valid cookie value");let u=[`${r}=${s}`];o?.expires&&o?.expires instanceof Date&&u.push("expires="+o.expires.toUTCString()),o.maxAge&&u.push(`maxAge=${o.maxAge}`),o?.sameSite&&typeof o?.sameSite=="string"&&u.push(`SameSite=${o?.sameSite}`),o?.path&&u.push(`path=${o?.path}`),o?.domain&&u.push(`domain=${o?.path}`),o?.httpOnly&&u.push("HttpOnly"),o?.secure&&u.push("Secure");let f=u.join(j);return document.cookie=f,f}var D="__Host-Talho-AuthToken",F="__Host-Talho-Session-Cookie",H="X-Talho-Session";function p(r){let s=this?.get(H);return s&&k(F,s,{path:"/",secure:!0,sameSite:"Strict",expires:new Date(Date.now()+U(90))}),{message:r,succeeded:!1}}function w(r){let s=this?.get(H);return s&&k(F,s,{path:"/",secure:!0,sameSite:"Strict",expires:new Date(Date.now()+U(90))}),{data:r,succeeded:!0}}function I(r=[],s="GET"){let o=new Headers({Accept:"application/json","Content-Type":"application/json"});for(let[$,R]of r)o.set($,R);let u=C(F);u&&o.set(H,u);let f=C(D);return f&&o.set("Authorization",f),{method:s,headers:o}}function U(r){return 86400*1e3*r}var _e=new Intl.NumberFormat("pt-BR",{currency:"BRL",style:"currency"});var le=null,v="oculto";function K(r){return Array.isArray(r)}function z(){return!!C(D)}function i(r,s=document){return s?s.querySelector(r):le}function T(r,s,o,u){if(r)return r.addEventListener(s,o,u),()=>r.removeEventListener(s,o,u)}function V(r,s){r&&r.removeAttribute(s)}function B(r,...s){r&&r.classList.add(...s)}function Y(r,...s){r&&r.classList.remove(...s)}function x(r,s,o){return r?r.classList.toggle(s,o):!1}function N(r){return x(i("[data-wtf-loader]"),v,!r)}function W(r,s){r&&(r.textContent=typeof s=="string"?s:s.toString())}function X(r){return JSON.stringify(r)}function l(r){return r.length}var Z={AC:"Acre",AL:"Alagoas",AP:"Amap\xE1",AM:"Amazonas",BA:"Bahia",CE:"Cear\xE1",DF:"Distrito Federal",ES:"Esp\xEDrito Santo",GO:"Goi\xE1s",MA:"Maranh\xE3o",MT:"Mato Grosso",MS:"Mato Grosso do Sul",MG:"Minas Gerais",PA:"Par\xE1",PB:"Para\xEDba",PR:"Paran\xE1",PE:"Pernambuco",PI:"Piau\xED",RJ:"Rio de Janeiro",RN:"Rio Grande do Norte",RS:"Rio Grande do Sul",RO:"Rond\xF4nia",RR:"Roraima",SC:"Santa Catarina",SP:"S\xE3o Paulo",SE:"Sergipe",TO:"Tocantins"},J=Object.keys(Z),Ce=Object.values(Z);var P="https://xef5-44zo-gegm.b2.xano.io";(function(){let r="[data-wtf-wrapper]",s="mensagemdeerro",o="#wf-form-Address-Form";if(!z()){location.href=`/acessos/entrar?redirect_to=${encodeURIComponent(location.pathname)}`;return}let u=i("[data-wtf-error-message-no-address-registered]"),f=i("[data-wtf-registered-address]"),$=f?.parentElement;f?.remove();let R=new Proxy([],{set(e,t,n){let a=Reflect.set(e,t,n),c=t==="length"&&n===0;if(Q(c),c||typeof n=="number")return a;let A=i(`[data-wtf-address-id="${n.id}"]`)!==null;return Q(l(e)>0),A||fe(n),a}});function Q(e){x(u,v,!e)}function fe(e){if(!f)return;let t=f.cloneNode(!0),n=i("[data-wtf-address-tag]",t),a=i("[data-wtf-address]",t),c=i("[data-wtf-delete-user-address]",t);if(n&&(n.textContent=e.nick),a&&(a.textContent=e.address),c){let A=null;A=T(c,"click",async function(){if(!(await Ae(e.id)).succeeded)return;A?.();let Re=R.findIndex(be=>be.id===e.id);R.splice(Re,1),t.remove()},!1)}t.dataset.wtfAddressId=e.id,$.appendChild(t)}async function pe(e){let t="O CEP informado n\xE3o foi encontrado";try{let n=await fetch(`${P}/api:jyidAW68/cepaddress/${e}`,{...I()});if(!n.ok){let c=await n.json();return p.call(n.headers,c?.message??t)}let a=await n.json();return w.call(n.headers,a)}catch{return p(t)}}async function me(){let e="Houve uma falha ao buscar os seus endere\xE7os. Tente novamente mais tarde.";try{let t=await fetch(`${P}/api:Yytq8Zut/user_addresses/all`,{...I()});if(!t.ok){let a=await t.json();return p.call(t.headers,a?.message??e)}let n=await t.json();return w.call(t.headers,n)}catch{return p(e)}}async function Ae(e){let t="Houve uma falha ao remover o endere\xE7o. Tente novamente mais tarde.";try{let n=await fetch(`${P}/api:Yytq8Zut/user_addresses/${e}/delete`,{...I([],"DELETE")});if(!n.ok){let a=await n.json();return p.call(n.headers,a?.message??t)}return w.call(n.headers,null)}catch{return p(t)}}async function ge(e){let t="Houve uma falha ao salvar o endere\xE7o. Por favor, tente novamente mais tarde.";try{let n=await fetch(`${P}/api:Yytq8Zut/user_addresses/create`,{...I([],"POST"),body:X(e)});if(!n.ok){let c=await n.json();return p.call(n.headers,c?.message??t)}let a=await n.json();return w.call(n.headers,a)}catch{return p(t)}}function g(e){return function(t){return[e,t]}}function Ee(e,t){let n=!t.succeeded,a=i("[data-wtf-error-new]",e),c=i("[data-wtf-success-new]",e);if(x(a,v,!n),x(c,v,n),!n){setTimeout(()=>B(c,v),8e3);return}let A=a&&i("div",a);W(A,t.message)}function ye(e){return e.closest(r)}function m(e,t){let n=ye(e);x(n,s,!t)}function Se(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function he(e){if(e.succeeded){let{cep:t,logradouro:n,localidade:a,complemento:c,bairro:A,uf:de}=e.data;b(d,t),b(E,n),b(y,A),b(S,a),b(h,de);return}for(let t of[E,re,y,S,h])b(t)}function ee(e){if(K(e)){R.push(...e);return}R.push(e)}function b(e,t=""){e&&(e.value=t)}let _=i(o);if(!_)return;let ve=["name","method","data-name","aria-label","data-wf-page-id","data-wf-element-id","data-turnstile-sitekey"];for(let e of ve)V(_,e);let te=i('input[type="submit"]',_);te&&V(te,"disabled");let q=_.parentElement;if(!q)return;Y(q,"w-form"),_.remove(),q.insertAdjacentHTML("afterbegin",_.outerHTML);let L=i(o);if(!L)return;let O=i("[data-wtf-tag-new]"),d=i("[data-wtf-zipcode-new]"),E=i("[data-wtf-address-new]"),M=i("[data-wtf-number-new]"),re=i("[data-wtf-complement-new]"),y=i("[data-wtf-neighborhood-new]"),S=i("[data-wtf-city-new]"),h=i("[data-wtf-state-new]");function Te(){if(!d)return;let e=d.value.replace(/\D+/g,""),t=l(e);d.value=t>5?e.replace(/(\d{5})(\d{1,3})/,"$1-$2"):e,!(l(d.value)<9)&&pe(e).then(he)}function ne(){let e=g("wtfTagNew");if(!O)return e(!1);let t=l(O.value)>2;return m(O,t),e(t)}function se(){let e=g("wtfZipcodeNew");if(!d)return e(!1);let t=/^\d{5}-\d{3}$/.test(d.value);return m(d,t),e(t)}function oe(){let e=g("wtfAddressNew");if(!E)return e(!1);let t=l(E.value)>2;return m(E,t),e(t)}function ae(){let e=g("wtfNumberNew");if(!M)return e(!1);let t=l(M.value)>0;return m(M,t),e(t)}function ie(){let e=g("wtfNeighborhoodNew");if(!y)return e(!1);let t=l(y.value)>2;return m(y,t),e(t)}function ue(){let e=g("wtfCityNew");if(!S)return e(!1);let t=l(S.value)>2;return m(S,t),e(t)}function ce(){let e=g("wtfStateNew");if(!h)return e(!1);let t=J.includes(h.value);return m(h,t),e(t)}let xe=[{field:O,validator:ne},{field:d,validator:se},{field:E,validator:oe},{field:M,validator:ae},{field:y,validator:ie},{field:S,validator:ue},{field:h,validator:ce}];for(let{field:e,validator:t}of xe)e&&(T(e,"blur",t,!1),T(e,"input",function(){m(e,!0)},!1));d&&T(d,"input",Te,!1),T(L,"submit",async function(e){e.preventDefault(),e.stopPropagation();let n=[ne,se,oe,ae,ie,ue,ce].find(c=>!c().at(1));if(n){let c=`[data-${Se(n().at(0))}]`;i(c,L)?.focus({preventScroll:!1});return}N(!0);let a=await ge({nick:O?.value,cep:d?.value,address:E?.value,number:M?.value,complement:re?.value,neighborhood:y?.value,city:S?.value,state:h?.value});if(Ee(L,a),!a.succeeded)return N(!1);L.reset(),ee(a.data),N(!1)},!1),me().then(e=>{e.succeeded&&l(e.data)>0&&ee(e.data)}).finally(()=>N(!1))})();})();
