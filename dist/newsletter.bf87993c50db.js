"use strict";(()=>{var R="; ";function E(e){let t=document.cookie.split(R).find(o=>{let{name:a}=x(o);return a===e});return t?x(t).value:!1}function x(e){let[t,o]=e.split("=");return{name:t,value:o}}function _(e,t,o={}){if(e.length===0)throw new Error("'setCookie' should receive a valid cookie name");if(!["string","number","boolean"].includes(typeof t)||t.toString().length===0)throw new Error("'setCookie' should receive a valid cookie value");let a=[`${e}=${t}`];o?.expires&&o?.expires instanceof Date&&a.push("expires="+o.expires.toUTCString()),o.maxAge&&a.push(`maxAge=${o.maxAge}`),o?.sameSite&&typeof o?.sameSite=="string"&&a.push(`SameSite=${o?.sameSite}`),o?.path&&a.push(`path=${o?.path}`),o?.domain&&a.push(`domain=${o?.path}`),o?.httpOnly&&a.push("HttpOnly"),o?.secure&&a.push("Secure");let c=a.join(R);return document.cookie=c,c}var U=401,h="__Host-Talho-AuthToken",b="__Host-Talho-Session-Cookie",L="X-Talho-Session";function V(e){!e||e.status!==U||(location.href=O("/acessos/entrar",{redirect_to:encodeURIComponent(location.pathname)}))}function F(e){let t=e?.headers.get(L);t&&_(b,t,{path:"/",secure:!0,sameSite:"Strict",expires:new Date(Date.now()+C(90))})}function y(e){return F(this),V(this),{message:e,succeeded:!1}}function N(e){return F(this),{data:e,succeeded:!0}}function I(e=[],t="GET"){let o=new Headers({Accept:"application/json","Content-Type":"application/json"});for(let[m,T]of e)o.set(m,T);let a=E(b);a&&o.set(L,a);let c=E(h);return c&&o.set("Authorization",c),{method:t,headers:o}}function C(e){return 86400*1e3*e}var $=new Intl.NumberFormat("pt-BR",{currency:"BRL",style:"currency"});var q=null,p="oculto";function u(e,t=document){return t?t.querySelector(e):q}function f(e,t,o,a){if(e)return e.addEventListener(t,o,a),()=>e.removeEventListener(t,o,a)}function A(e,...t){e&&e.classList.add(...t)}function S(e,...t){e&&e.classList.remove(...t)}function g(e,t,o){return e?e.classList.toggle(t,o):!1}function M(e,t){e&&(e.textContent=typeof t=="string"?t:t.toString())}function O(e,t={}){let o=new URL(`${location.protocol}//${location.hostname}`),a=new URL(e,o);for(let[c,m]of Object.entries(t))a.searchParams.set(c,m);return a.toString()}function v(e){return JSON.stringify(e)}function w(){return/^(([\p{L}\p{N}!#$%&'*+\/=?^_`{|}~-]+(\.[\p{L}\p{N}!#$%&'*+\/=?^_`{|}~-]+)*)|("[\p{L}\p{N}\s!#$%&'*+\/=?^_`{|}~.-]+"))@(([a-zA-Z0-9]+(-[a-zA-Z0-9]+)*\.)+[a-zA-Z]{2,63}|(\[(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\]))$/u}function k(e,t){e&&e.focus(t)}var P={AC:"Acre",AL:"Alagoas",AP:"Amap\xE1",AM:"Amazonas",BA:"Bahia",CE:"Cear\xE1",DF:"Distrito Federal",ES:"Esp\xEDrito Santo",GO:"Goi\xE1s",MA:"Maranh\xE3o",MT:"Mato Grosso",MS:"Mato Grosso do Sul",MG:"Minas Gerais",PA:"Par\xE1",PB:"Para\xEDba",PR:"Paran\xE1",PE:"Pernambuco",PI:"Piau\xED",RJ:"Rio de Janeiro",RN:"Rio Grande do Norte",RS:"Rio Grande do Sul",RO:"Rond\xF4nia",RR:"Roraima",SC:"Santa Catarina",SP:"S\xE3o Paulo",SE:"Sergipe",TO:"Tocantins"},j=Object.keys(P),z=Object.values(P);(function(){let e="mensagemdeerro";async function t(r){r.preventDefault(),r.stopPropagation();let n=r.target;if(!n)return;let s=[H,D].find(l=>!l(n).at(1));if(s){let[l]=s(n),d=`[data-${m(l)}]`;k(u(d,n),{preventScroll:!1});return}let i=await a({email:n?.email?.value,accepted_terms:n?.consent?.checked??!1});o(n,i),n.reset(),S(u(".w--redirected-checked",n),"w--redirected-checked")}function o(r,n){let s=!n.succeeded,i=u("[data-wtf-error-optin-email]",r),l=u("[data-wtf-success-optin-email]",r);if(g(i,p,!s),g(l,p,s),s)return M(i&&u("div",i),n.message);let d=l&&u("div",l);d&&(d.textContent=n.data.message),setTimeout(()=>{A(i,p),A(l,p)},8e3)}async function a(r){let n="Houve uma falha ao enviar o e-mail, tente novamente em breve!";try{let s=await fetch("https://xef5-44zo-gegm.b2.xano.io/api:KAULUI1C/newsletter",{...I([],"POST"),body:v(r)});if(!s.ok){let l=await s.json();return y.call(s,l?.message??n)}let i=await s.json();return N.call(s,i)}catch{return y(n)}}function c(r){return function(n){return[r,n]}}function m(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function T(r,n){let s=r.closest("[data-wtf-wrapper]");g(s,e,n)}function H(r){let n=c("wtfEmail");if(!r)return n(!1);let s=u("[data-wtf-email]",r);if(!s)return n(!1);let i=w().test(s.value);return T(s,!i),n(i)}function D(r){let n=c("wtfConsent");if(!r)return n(!1);let s=u("[data-wtf-consent]",r);if(!s)return n(!1);let i=s.checked;return T(s,!i),n(i)}let G=["#wf-form-Optin-Form-Mobile","#wf-form-Optin-Form-Desktop"],K=["name","data-name","data-wf-page-id","data-wf-element-id","data-turnstile-sitekey"];for(let r of G){let n=u(r);if(!n)continue;for(let i of K)n.removeAttribute(i);let s=n.parentNode;if(n.remove(),s&&s instanceof HTMLElement){S(s,"w-form"),s.insertAdjacentHTML("afterbegin",n.outerHTML);let i=u(r,s);if(!i)return;f(i,"submit",t,!1),A(s,"w-form"),u('input[type="submit"]',i)?.removeAttribute("disabled")}}document.querySelectorAll("form [data-wtf-email]").forEach(r=>{f(r,"blur",()=>H(r.closest("form")),!1),f(r,"input",()=>{S(r.closest("[data-wtf-wrapper]"),e)},!1)}),document.querySelectorAll("form [data-wtf-consent]").forEach(r=>{f(r,"input",()=>D(r.closest("form")),!1)})})();})();
