(()=>{let i="oculto",a="mensagemdeerro";function s(e,t=document){return t.querySelector(e)}function r(e,t,a,r){e.addEventListener(t,a,r)}function c(e,...t){e.classList.add(...t)}function f(e,...t){e.classList.remove(...t)}function u(e,t,a){e.classList.toggle(t,a)}async function e(r){r.preventDefault(),r.stopPropagation();let n=r.target;if(n){var r=[l,t].find(e=>!e(n).at(1));if(r)[r]=r(n),s(`[data-${r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}]`,n)?.focus({preventScroll:!1});else{r=await(async e=>{var t="Houve uma falha ao enviar o e-mail, tente novamente em breve!";try{var a=await fetch("https://xef5-44zo-gegm.b2.xano.io/api:KAULUI1C/newsletter",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return a.ok?{succeeded:!0,data:{message:(await a.json()).message}}:d((await a.json())?.message??t)}catch(e){return d(t)}})({email:n?.email?.value,accepted_terms:n?.consent?.checked??!1});{var o=n;let e=!r.succeeded,t=s("[data-wtf-error-optin-email]",o),a=s("[data-wtf-success-optin-email]",o);if(t&&u(t,i,!e),a&&u(a,i,e),e){let e=t&&s("div",t);e&&(e.textContent=r.message)}else{let e=a&&s("div",a);e&&(e.textContent=r.data.message),setTimeout(()=>{t&&c(t,i),a&&c(a,i)},8e3)}}n.reset();o=s(".w--redirected-checked",n);o&&f(o,"w--redirected-checked")}}}function d(e){return{message:e,succeeded:!1}}function n(t){return function(e){return[t,e]}}function o(e,t){e=e.closest("[data-wtf-wrapper]");e&&u(e,a,t)}function l(e){var t=n("wtfEmail");return(e=e&&s("[data-wtf-email]",e))?(o(e,!(e=/^(([\p{L}\p{N}!#$%&'*+\/=?^_`{|}~-]+(\.[\p{L}\p{N}!#$%&'*+\/=?^_`{|}~-]+)*)|("[\p{L}\p{N}\s!#$%&'*+\/=?^_`{|}~.-]+"))@(([a-zA-Z0-9]+(-[a-zA-Z0-9]+)*\.)+[a-zA-Z]{2,63}|(\[(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\]))$/u.test(e.value))),t(e)):t(!1)}function t(e){var t=n("wtfConsent");return(e=e&&s("[data-wtf-consent]",e))?(o(e,!(e=e.checked)),t(e)):t(!1)}var m,p=["name","data-name","data-wf-page-id","data-wf-element-id","data-turnstile-sitekey"];for(m of["#wf-form-Optin-Form-Mobile","#wf-form-Optin-Form-Desktop"]){var v=s(m);if(v){for(var w of p)v.removeAttribute(w);s('input[type="submit"]',v)?.removeAttribute("disabled");var g=v.parentNode;if(v.remove(),g&&g instanceof HTMLElement){f(g,"w-form"),g.insertAdjacentHTML("afterbegin",v.outerHTML);var h=s(m,g);if(!h)return;r(h,"submit",e,!1),c(g,"w-form")}}}document.querySelectorAll("form [data-wtf-email]").forEach(t=>{r(t,"blur",()=>l(t.closest("form")),!1),r(t,"input",function(){var e=t.closest("[data-wtf-wrapper]");e&&f(e,a)},!1)}),document.querySelectorAll("form [data-wtf-consent]").forEach(e=>{r(e,"input",()=>t(e.closest("form")),!1)})})();