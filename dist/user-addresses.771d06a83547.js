!function(){"use strict";var t="__Host-Talho-AuthToken",e="__Host-Talho-Session-Cookie",n="X-Talho-Session";function a(t){const a=t?.headers.get(n);a&&function(t,e,n={}){if(0===w(t))throw new Error("'setCookie' should receive a valid cookie name");if(!["string","number","boolean"].includes(typeof e)||0===w(e.toString()))throw new Error("'setCookie' should receive a valid cookie value");const a=[`${t}=${e}`];n?.expires&&n?.expires instanceof Date&&a.push("expires="+n.expires.toUTCString()),n.maxAge&&a.push(`maxAge=${n.maxAge}`),n?.sameSite&&"string"==typeof n?.sameSite&&a.push(`SameSite=${n?.sameSite}`),n?.path&&a.push(`path=${n?.path}`),n?.domain&&a.push(`domain=${n?.path}`),n?.httpOnly&&a.push("HttpOnly"),n?.secure&&a.push("Secure");const o=a.join(p);document.cookie=o}(e,a,{path:"/",secure:!0,sameSite:"Strict",expires:new Date(Date.now()+1e3*g*14)})}function o(t,e=!1){return a(this),e||this&&401===this.status&&(location.href=function(t,e={}){const n=new URL(`${location.protocol}//${location.hostname}`),a=new URL(t,n);for(const[o,r]of Object.entries(e))a.searchParams.set(o,r);return a.toString()}("/acessos/entrar",{redirect_to:encodeURIComponent(location.pathname+location.search)})),{message:t,succeeded:!1}}function r(t){return a(this),{data:t,succeeded:!0}}function s(a=[],o="GET"){const r="application/json",s=new Headers({Accept:r,"Content-Type":r});for(const[t,e]of a)s.set(t,e);const i=v(e);i&&s.set(n,i);const c=v(t);return c&&s.set("Authorization",c),{method:o,headers:s}}var i="oculto";function c(t,e=document){return e?e.querySelector(t):null}function u(t,e,n,a){if(t)return t.addEventListener(e,n,a),()=>t.removeEventListener(e,n,a)}function d(t,e){t&&t.removeAttribute(e)}function f(t,e,n){return!!t&&t.classList.toggle(e,n)}function l(t){return f(c("[data-wtf-loader]"),i,!t)}function m(t,e){t&&(t.textContent="string"==typeof e?e:e.toString())}function w(t){return t.length}var p="; ";function v(t){const e=document.cookie.split(p).find(e=>{const{name:n}=h(e);return n===t});return!!e&&h(e).value}function h(t){const[e,n]=t.split("=");return{name:e,value:n}}var g=86400,y=Object.keys({AC:"Acre",AL:"Alagoas",AP:"Amapá",AM:"Amazonas",BA:"Bahia",CE:"Ceará",DF:"Distrito Federal",ES:"Espírito Santo",GO:"Goiás",MA:"Maranhão",MT:"Mato Grosso",MS:"Mato Grosso do Sul",MG:"Minas Gerais",PA:"Pará",PB:"Paraíba",PR:"Paraná",PE:"Pernambuco",PI:"Piauí",RJ:"Rio de Janeiro",RN:"Rio Grande do Norte",RS:"Rio Grande do Sul",RO:"Rondônia",RR:"Roraima",SC:"Santa Catarina",SP:"São Paulo",SE:"Sergipe",TO:"Tocantins"}),S="https://xef5-44zo-gegm.b2.xano.io";!function(){const e="data-original-message",n="#wf-form-Address-Form";if(!v(t))return void(location.href=`/acessos/entrar?redirect_to=${encodeURIComponent(location.pathname)}`);const a=c("[data-wtf-error-message-no-address-registered]"),p=c("[data-wtf-registered-address]"),h=p?.parentElement;p?.remove();const g=new Proxy([],{set(t,e,n){const a=Reflect.set(t,e,n),i="length"===e&&0===n;if(A(i),i||"number"==typeof n)return a;const d=null!==c(`[data-wtf-address-id="${n.id}"]`);return A(w(t)>0),d||function(t){if(!p)return;const e=p.cloneNode(!0),n=c("[data-wtf-address-tag]",e),a=c("[data-wtf-address]",e),i=c("[data-wtf-delete-user-address]",e);if(n&&(n.textContent=t.nick),a&&(a.textContent=t.address),i){let n=null;n=u(i,"click",async function(){if(!(await async function(t){const e="Houve uma falha ao remover o endereço. Tente novamente mais tarde.";try{const n=await fetch(`${S}/api:Yytq8Zut/user_addresses/${t}/delete`,{...s([],"DELETE")});if(!n.ok){const t=await n.json();return o.call(n,t?.message??e)}return r.call(n,null)}catch(n){return o(e)}}(t.id)).succeeded)return;n?.();const a=g.findIndex(e=>e.id===t.id);g.splice(a,1),e.remove()},!1)}e.dataset.wtfAddressId=t.id,h.appendChild(e)}(n),a}});function A(t){f(a,i,!t)}function b(t){return function(e){return[t,e]}}function $(t){return t.closest("[data-wtf-wrapper]")}function C(t,n){const a=$(t);if(f(a,"mensagemdeerro",!n),!n)return;const o=c("[data-wtf-field-error]",a);var r,s;r=o,s=e,r?.hasAttribute(s)&&(m(o,function(t,e){return t?t.getAttribute(e):null}(o,e)),d(o,e))}function P(t){if(t.succeeded){const{logradouro:e,localidade:n,complemento:a,bairro:o,uf:r}=t.data;return k(O,e),k(_,o),k(D,n),void k(z,r)}C(M,!1);const n=c("[data-wtf-field-error]",$(M));var a,o,r;a=n,o=e,r=n.textContent.trim(),a&&a.setAttribute(o,r),m(n,t.message);for(const e of[O,H,_,D,z])k(e)}function T(t){var e;e=t,Array.isArray(e)?g.push(...t):g.push(t)}function k(t,e=""){t&&(t.value=e)}const R=c(n);if(!R)return;const x=["name","method","data-name","aria-label","data-wf-page-id","data-wf-element-id","data-turnstile-sitekey"];for(const t of x)d(R,t);const E=c('input[type="submit"]',R);E&&d(E,"disabled");const j=R.parentElement;if(!j)return;!function(t,...e){t&&t.classList.remove(...e)}(j,"w-form"),R.remove(),j.insertAdjacentHTML("afterbegin",R.outerHTML);const N=c(n);if(!N)return;const L=c("[data-wtf-tag-new]"),M=c("[data-wtf-zipcode-new]"),O=c("[data-wtf-address-new]"),G=c("[data-wtf-number-new]"),H=c("[data-wtf-complement-new]"),_=c("[data-wtf-neighborhood-new]"),D=c("[data-wtf-city-new]"),z=c("[data-wtf-state-new]");function I(){const t=b("wtfTagNew");if(!L)return t(!1);const e=w(L.value)>2;return C(L,e),t(e)}function U(){const t=b("wtfZipcodeNew");if(!M)return t(!1);const e=/^\d{5}-\d{3}$/.test(M.value);return C(M,e),t(e)}function Z(){const t=b("wtfAddressNew");if(!O)return t(!1);const e=w(O.value)>2;return C(O,e),t(e)}function q(){const t=b("wtfNumberNew");if(!G)return t(!1);const e=w(G.value)>0;return C(G,e),t(e)}function B(){const t=b("wtfNeighborhoodNew");if(!_)return t(!1);const e=w(_.value)>2;return C(_,e),t(e)}function F(){const t=b("wtfCityNew");if(!D)return t(!1);const e=w(D.value)>2;return C(D,e),t(e)}function J(){const t=b("wtfStateNew");if(!z)return t(!1);const e=y.includes(z.value);return C(z,e),t(e)}const Y=[{field:L,validator:I},{field:M,validator:U},{field:O,validator:Z},{field:G,validator:q},{field:_,validator:B},{field:D,validator:F},{field:z,validator:J}];for(const{field:t,validator:o}of Y)t&&(u(t,"blur",o,!1),u(t,"input",function(){C(t,!0)},!1));M&&u(M,"input",function(){if(!M)return;const t=M.value.replace(/\D+/g,""),e=w(t);M.value=e>5?t.replace(/(\d{5})(\d{1,3})/,"$1-$2"):t,w(M.value)<9||async function(t){const e="O CEP informado não foi encontrado";try{const n=await fetch(`${S}/api:jyidAW68/cepaddress/${t}`,{...s()});if(!n.ok){const t=await n.json();return o.call(n,t?.message??e)}const a=await n.json();return r.call(n,a)}catch(n){return o(e)}}(t).then(P)},!1),u(N,"submit",async function(t){t.preventDefault(),t.stopPropagation();const e=[I,U,Z,q,B,F,J].find(t=>!t().at(1));if(e){const t=`[data-${n=e().at(0),n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}]`;return void c(t,N)?.focus({preventScroll:!1})}var n;l(!0);const a=await async function(t){const e="Houve uma falha ao salvar o endereço. Por favor, tente novamente mais tarde.";try{const a=await fetch(`${S}/api:Yytq8Zut/user_addresses/create`,{...s([],"POST"),body:(n=t,JSON.stringify(n))});if(!a.ok){const t=await a.json();return o.call(a,t?.message??e)}const i=await a.json();return r.call(a,i)}catch(a){return o(e)}var n}({nick:L?.value,cep:M?.value,address:O?.value,number:G?.value,complement:H?.value,neighborhood:_?.value,city:D?.value,state:z?.value});if(function(t,e){const n=!e.succeeded,a=c("[data-wtf-error-new]",t),o=c("[data-wtf-success-new]",t);f(a,i,!n),f(o,i,n),n?m(a&&c("div",a),e.message):setTimeout(()=>function(t,...e){t&&t.classList.add(...e)}(o,i),8e3)}(N,a),!a.succeeded)return l(!1);N.reset(),T(a.data),l(!1)},!1),async function(){const t="Houve uma falha ao buscar os seus endereços. Tente novamente mais tarde.";try{const e=await fetch(`${S}/api:Yytq8Zut/user_addresses/all`,{...s()});if(!e.ok){const n=await e.json();return o.call(e,n?.message??t)}const n=await e.json();return r.call(e,n)}catch(e){return o(t)}}().then(t=>{t.succeeded&&w(t.data)>0&&T(t.data)}).finally(()=>l(!1))}()}();