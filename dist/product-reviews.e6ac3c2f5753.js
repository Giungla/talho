!function(){"use strict";var e="__Host-Talho-Session-Cookie",t="X-Talho-Session";function n(n){const o=n?.headers.get(t);o&&function(e,t,n={}){if(0===l(e))throw new Error("'setCookie' should receive a valid cookie name");if(!["string","number","boolean"].includes(typeof t)||0===l(t.toString()))throw new Error("'setCookie' should receive a valid cookie value");const o=[`${e}=${t}`];n?.expires&&n?.expires instanceof Date&&o.push("expires="+n.expires.toUTCString()),n.maxAge&&o.push(`maxAge=${n.maxAge}`),n?.sameSite&&"string"==typeof n?.sameSite&&o.push(`SameSite=${n?.sameSite}`),n?.path&&o.push(`path=${n?.path}`),n?.domain&&o.push(`domain=${n?.path}`),n?.httpOnly&&o.push("HttpOnly"),n?.secure&&o.push("Secure");const a=o.join(p);document.cookie=a}(e,o,{path:"/",secure:!0,sameSite:"Strict",expires:new Date(Date.now()+1e3*h*90)})}function o(e){return n(this),this&&401===this.status&&(location.href=function(e,t={}){const n=new URL(`${location.protocol}//${location.hostname}`),o=new URL(e,n);for(const[a,s]of Object.entries(t))o.searchParams.set(a,s);return o.toString()}("/acessos/entrar",{redirect_to:encodeURIComponent(location.pathname+location.search)})),{message:e,succeeded:!1}}function a(e){return n(this),{data:e,succeeded:!0}}function s(n=[],o="GET"){const a=new Headers({Accept:"application/json","Content-Type":"application/json"});for(const[e,t]of n)a.set(e,t);const s=f(e);s&&a.set(t,s);const r=f("__Host-Talho-AuthToken");return r&&a.set("Authorization",r),{method:o,headers:a}}var r="oculto";function i(e,t=document){return t?t.querySelector(e):null}function c(e,t,n){return!!e&&e.classList.toggle(t,n)}function u(e,t){e&&(e.textContent="string"==typeof t?t:t.toString())}function l(e){return e.length}var p="; ";function f(e){const t=document.cookie.split(p).find(t=>{const{name:n}=d(t);return n===e});return!!t&&d(t).value}function d(e){const[t,n]=e.split("=");return{name:t,value:n}}var h=86400;!function(){const e=new Proxy({response:null},{get(e,t){const n=e.response?.count??0;switch(t){case"reviewsCount":return n;case"hasReviews":return n>0;default:return e[t]}},set(o,a,s){const l=Reflect.set(o,a,s);return l?("response"===a&&function(){const o=document.createDocumentFragment();c(i("[data-wtf-top-product-rating]"),r,!e.hasReviews),c(i("[data-wtf-review-section]"),r,!e.hasReviews),c(i("[data-wtf-review-line]"),r,!e.hasReviews);for(const{name:t,comment:a,rating:s,created_at:r}of e.response?.reviews.items??[]){const e=n?.cloneNode(!0);u(i("[data-wtf-review-average]",e),s.toString()),u(i("[data-wtf-review-customer-name]",e),t),u(i("[data-wtf-review-created-at]",e),r),u(i("[data-wtf-review-comment]",e),a),o.appendChild(e)}u(i("[data-wtf-review-count]"),e.response?.count??0),u(i("[data-wtf-review-media]"),e.response?.average??0),u(i("[data-wtf-review-title]"),e.reviewsCount>1?"Avaliaçôes":"Avaliação"),u(i("h1",i("[data-wtf-top-product-rating]")),e.response?.average??0),t?.replaceChildren(o)}(),!0):l}}),t=i("[data-wtf-review-list]");if(!t)return;const n=i("[data-wtf-review-template]",t);if(!n)return;var l;(l=n)&&l.remove();const p=location.pathname.split("/").filter(Boolean).at(-1);p&&async function(e){const t="Não foi possível localizar as avaliaçôes para o produto";try{const n=await fetch(`https://xef5-44zo-gegm.b2.xano.io/api:9ixgU7Er/ratings/${e}/list`,{...s()});if(!n.ok){const e=await n.json();return o.call(n,e?.message??t)}const r=await n.json();return a.call(n,r)}catch(n){return o(t)}}(p).then(t=>{t.succeeded&&(e.response=t.data)})}()}();