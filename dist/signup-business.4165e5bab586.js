!function(){"use strict";function e(e){const s=document.cookie.split("; ").find(s=>{const{name:i}=t(s);return i===e});return!!s&&t(s).value}function t(e){const[t,s]=e.split("=");return{name:t,value:s}}var s="__Host-Talho-AuthToken",i="__Host-Talho-Session-Cookie",n="X-Talho-Session",a={redirect_to:encodeURIComponent(location.pathname+location.search)},r={path:"/",secure:!0,sameSite:"Strict",expires:new Date(Date.now()+1e3*h*14)};function o(e="/acessos/entrar",t=a){location.href=function(e,t={}){const s=new URL(`${location.protocol}//${location.hostname}`),i=new URL(e,s);for(const[n,a]of Object.entries(t))i.searchParams.set(n,a);return i.toString()}(e,t)}function d(e){const t=e?.headers.get(n);t&&function(e,t,s={}){if(0===v(e))throw new Error("'setCookie' should receive a valid cookie name");if(!["string","number","boolean"].includes(typeof t)||0===v(t.toString()))throw new Error("'setCookie' should receive a valid cookie value");const i=[`${e}=${t}`];S(s?.expires&&s?.expires instanceof Date,i,"expires="+s.expires.toUTCString()),S(s.maxAge,i,`maxAge=${s.maxAge}`),S(s?.sameSite&&"string"==typeof s?.sameSite,i,`SameSite=${s?.sameSite}`),S(s?.path,i,`path=${s?.path}`),S(s?.domain,i,`domain=${s?.domain}`),S(s?.httpOnly,i,"HttpOnly"),S(s?.secure,i,"Secure");const n=i.join("; ");document.cookie=n}(i,t,r)}function c(e,t=!1,s){return d(this),t||this&&401===this.status&&o(),s?.(),{message:e,succeeded:!1}}function l(e,t){return d(this),t?.(),{data:e,succeeded:!0}}function u(t=[],a="GET"){const r="application/json",o=new Headers({Accept:r,"Content-Type":r});for(const[e,s]of t)o.set(e,s);const d=e(i);d&&o.set(n,d);const c=e(s);return c&&o.set("Authorization",c),{method:a,headers:o}}var h=86400,m=null;function p(e,t=document){return t?t.querySelector(e):m}function f(e,t,s,i){if(e)return e.addEventListener(t,s,i),()=>e.removeEventListener(t,s,i)}function g(e,t,s){e&&e.setAttribute(t,s)}function E(e){return e.trim()}function b(e){return e.replace(/\D+/g,"")}function v(e){return e.length}function V(e,t){return e.test(t)}function y(e,t){e&&e.scrollIntoView(t)}var w=Object.keys({AC:"Acre",AL:"Alagoas",AP:"Amapá",AM:"Amazonas",BA:"Bahia",CE:"Ceará",DF:"Distrito Federal",ES:"Espírito Santo",GO:"Goiás",MA:"Maranhão",MT:"Mato Grosso",MS:"Mato Grosso do Sul",MG:"Minas Gerais",PA:"Pará",PB:"Paraíba",PR:"Paraná",PE:"Pernambuco",PI:"Piauí",RJ:"Rio de Janeiro",RN:"Rio Grande do Norte",RS:"Rio Grande do Sul",RO:"Rondônia",RR:"Roraima",SC:"Santa Catarina",SP:"São Paulo",SE:"Sergipe",TO:"Tocantins"});function S(e,t,s){return e?t.push(s):-1}var $=new WeakMap,A=e=>{const t=$.get(e);t&&(t(),$.delete(e))};function T(...e){return{mounted(t){const s=f(t,"input",s=>{if(!s.isTrusted)return;const i=s.target;i.value=e.reduce((e,t)=>t(e),i.value??x),t.dispatchEvent(M)});$.set(t,s)},unmounted:A}}var M=new Event("input"),R=new Event("blur"),k=[10,11],x="",N="https://xef5-44zo-gegm.b2.xano.io",{ref:C,unref:D,nextTick:P,createApp:j}=window.Vue,L="value",F="data-original-text",I={block:"center",behavior:"smooth"};function O(e,t,s){return{field:e,valid:t,...s}}var G=m,U=j({setup:()=>({formElement:C(),globalErrorMessageElement:C,globalSuccessMessageElement:C,firstNameElement:C(),lastNameElement:C(),cpfElement:C(),emailElement:C(),birthDayElement:C(),phoneElement:C(),passwordElement:C(),cepElement:C(),addressElement:C(),numberElement:C(),neighborhoodElement:C(),cityElement:C(),stateElement:C(),termsElement:C()}),data:()=>({user:{name:x,lastName:x,cpf:x,email:x,phone:x,birthDate:x,password:x},address:{cep:x,address:x,number:x,complement:x,neighborhood:x,city:x,state:x},acceptTerms:!1,optIn:!1,visitedFields:[],loadingText:m,addressMessageError:m,isSubmitted:!1,createResponse:m}),methods:{async createUser(e){const t="Houve uma falha ao registrar o usuário";try{const i=await fetch(`${N}/api:USKfYC-x/user/create`,{...u([],"POST"),body:(s=e,JSON.stringify(s))});if(!i.ok){const e=await i.json();return c.call(i,e?.message??t)}const n=await i.json();return l.call(i,n)}catch(i){return c(t)}var s},async searchAddress(e,t){const s="Houve uma falha na busca do endereço";try{const i=await fetch(`${N}/api:jyidAW68/cepaddress/${e}`,{...u(),signal:t});if(!i.ok){const e=await i.json();return c.call(i,e?.message??s)}const n=await i.json();return l.call(i,n)}catch(i){return c(s)}},async handleSubmit(e){e.preventDefault(),this.isSubmitted||(this.isSubmitted=!0),this.triggerValidations();const{firstInvalidField:t}=this;if(t)return void y(t.field,I);this.loadingText="Registrado usuário...";const{user:s,address:i,optIn:n,acceptTerms:a}=this,r=await this.createUser({user:s,address:i,optIn:n,acceptTerms:a});if(this.loadingText=m,!r.succeeded)return this.createResponse=r.message,P(()=>{const e=this.globalErrorMessageElement;e&&y(e,I)});this.createResponse=r.data,P(()=>{this.formElement?.reset();const e=this.globalSuccessMessageElement;e&&y(e,I)})},setVisitedField(e){S(!0,this.visitedFields,e)},hasVisitEntry(e){return this.visitedFields.includes(e)},triggerValidations(){const e=this.validatableFields;for(const{field:t}of e)t?.dispatchEvent?.(R)}},computed:{nameValidation(){return O(D(this.firstNameElement),!this.hasVisitEntry("firstName")||v(E(this.user.name))>1)},lastNameValidation(){return O(D(this.lastNameElement),!this.hasVisitEntry("lastName")||v(E(this.user.lastName))>1)},cpfValidation(){const{cpf:e}=this.user;return O(D(this.cpfElement),!this.hasVisitEntry("cpf")||V(/^\d{3}\.\d{3}\.\d{3}-\d{2}$/,E(e))&&function(e){if(11!==v(e=b(e))||/^(\d)\1{10}$/.test(e))return!1;const t=k.map((t,s)=>{const i=s?10:9,n=11-[...e.slice(0,i)].map(Number).reduce((e,s,i)=>e+s*(t-i),0)%11;return n>9?0:n});return e.endsWith(t.join(x))}(e))},emailValidation(){return O(D(this.emailElement),!this.hasVisitEntry("email")||V(/^(([\p{L}\p{N}!#$%&'*+\/=?^_`{|}~-]+(\.[\p{L}\p{N}!#$%&'*+\/=?^_`{|}~-]+)*)|("[\p{L}\p{N}\s!#$%&'*+\/=?^_`{|}~.-]+"))@(([a-zA-Z0-9]+(-[a-zA-Z0-9]+)*\.)+[a-zA-Z]{2,63}|(\[(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\]))$/u,E(this.user.email)))},birthDateValidation(){const{birthDate:e}=this.user;return O(D(this.birthDayElement),!this.hasVisitEntry("birthDate")||V(/^(0[1-9]|[12][0-9]|3[01])\/(0[1-9]|1[0-2])\/(19|20)\d{2}$/,E(e))&&function(e){const[t,s,i]=e.split("/");return"Invalid Date"!==new Date(`${i}-${s}-${t}T00:00:00`).toString()}(e))},phoneValidation(){return O(D(this.phoneElement),!this.hasVisitEntry("phone")||V(/^\(\d{2}\)\s\d{4,5}-\d{4}$/,this.user.phone))},cepValidation(){return O(D(this.cepElement),!this.hasVisitEntry("cep")||V(/^\d{5}-\d{3}$/,this.address.cep))},addressValidation(){return O(D(this.addressElement),!this.hasVisitEntry("address")||v(E(this.address.address))>2)},numberValidation(){return O(D(this.numberValidation),!this.hasVisitEntry("number")||v(E(this.address.number))>0)},neighborhoodValidation(){return O(D(this.neighborhoodElement),!this.hasVisitEntry("neighborhood")||v(E(this.address.neighborhood))>3)},cityValidation(){return O(D(this.cityElement),!this.hasVisitEntry("city")||v(E(this.address.city))>2)},stateValidation(){return O(D(this.stateElement),!this.hasVisitEntry("state")||w.includes(this.address.state))},passwordValidation(){const e=Object.values(function(e){const t=(s=e,e=>e.test(s));var s;return{hasNumber:t(/\d/),hasLowercase:t(/[a-z]/),hasUppercase:t(/[A-Z]/),hasMinLength:t(/.{8,}/),hasSpecialChar:t(/[!@#$%^&*()_+{}\[\]:;<>,.?\/~\\-]/)}}(this.user.password)).every(e=>e);return O(D(this.passwordElement),!this.hasVisitEntry("password")||e)},termsValidation(){return O(D(this.termsElement),!this.isSubmitted||this.acceptTerms)},validatableFields(){return[this.nameValidation,this.lastNameValidation,this.cpfValidation,this.emailValidation,this.birthDateValidation,this.phoneValidation,this.cepValidation,this.addressValidation,this.numberValidation,this.neighborhoodValidation,this.cityValidation,this.stateValidation,this.passwordValidation,this.termsValidation].filter(({ignoreIf:e})=>[!1,void 0].includes(e))},firstInvalidField(){return this.validatableFields.find(({valid:e})=>!e)},getLoadingText(){return this.loadingText??"Enviar"},getAddressErrorMessage(){return this.addressMessageError??m},getResponseType(){const{createResponse:e}=this;return e?"string"==typeof e?"error":"success":m}},watch:{"address.cep"(e,t,s){e!==t&&V(/^\d{5}-\d{3}$/,e)&&(G=new AbortController,s(()=>{this.addressMessageError=m,G?.signal.aborted||G?.abort(),G=m}),this.searchAddress(b(e),G.signal).then(e=>{if(!e.succeeded)return this.addressMessageError=e.message,this.address.address=x,this.address.state=x,this.address.city=x,void(this.address.neighborhood=x);this.address.address=E(e.data.logradouro),this.address.state=E(e.data.uf),this.address.city=E(e.data.localidade),this.address.neighborhood=E(e.data.bairro)}))}},directives:{maskCep:T(b,function(e){return e.replace(/^(\d{0,5})(\d{0,3})/,(e,t,s)=>{const i=[];for(const n of[t,s])S(n,i,n);return i.join("-")})}),maskCpf:T(b,function(e){return e.replace(/^(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,2})/,(e,t,s,i,n)=>{const a=[];return S(t,a,`${t}`),S(s,a,`.${s}`),S(i,a,`.${i}`),S(n,a,`-${n}`),a.join(x)})}),maskDate:T(b,function(e){return e.replace(/^(\d{0,2})(\d{0,2})(\d{0,4})/,(e,t,s,i)=>[t,s,i].filter(Boolean).join("/"))}),maskPhone:T(b,function(e){const t=(e,t,s,i)=>{const n=[];return S(t,n,`(${t}`),S(s,n,`) ${s}`),S(i,n,`-${i}`),n.join(x)};return v(e)<11?e.replace(/^(\d{0,2})(\d{0,4})(\d{0,4})/,t):e.replace(/^(\d{0,2})(\d{0,5})(\d{0,4})/,t)}),trim:{mounted(e){const t=f(e,"blur",t=>{if(!t.isTrusted)return;const s=t.target;s.value=E(s.value),e.dispatchEvent(M)});$.set(e,t)},unmounted:A},uppercase:T(function(e){return e.toUpperCase()}),visitedField:{mounted(e,t){const s=f(e,"blur",()=>{t.instance.setVisitedField(t.value),$.delete(e)},{once:!0});$.set(e,s)},unmounted:A},value:{mounted(e,t){g(e,F,E(e.value)),g(e,L,E(t.value))},updated(e,t){g(e,L,E(t.value))},unmounted(e){var t,s;g(e,L,(s=F,((t=e)?t.getAttribute(s):m)??"")),function(e,t){e&&e.removeAttribute(t)}(e,F)}}}});if(e(s)){const e="#business-form",t=p(e),s=p(".formblock",t),i=p("#wf-form-register",t);i&&(function(e,...t){e&&e.classList.remove(...t)}(s,"w-form"),s.innerHTML=i.outerHTML),U.mount(e),window.addEventListener("pageshow",e=>{e.persisted&&window.location.reload()})}else o()}();