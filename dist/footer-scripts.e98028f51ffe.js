!function(){"use strict";var e="__Host-Talho-AuthToken",t="__Host-Talho-Session-Cookie",o="X-Talho-Session";function n(e){const n=e?.headers.get(o);n&&h(t,n,{path:"/",secure:!0,sameSite:"Strict",expires:new Date(Date.now()+1e3*p*90)})}function a(e){return n(this),this&&401===this.status&&(location.href=function(e,t={}){const o=new URL(`${location.protocol}//${location.hostname}`),n=new URL(e,o);for(const[a,s]of Object.entries(t))n.searchParams.set(a,s);return n.toString()}("/acessos/entrar",{redirect_to:encodeURIComponent(location.pathname+location.search)})),{message:e,succeeded:!1}}function s(e){return n(this),{data:e,succeeded:!0}}function r(n=[],a="GET"){const s=new Headers({Accept:"application/json","Content-Type":"application/json"});for(const[e,t]of n)s.set(e,t);const r=u(t);r&&s.set(o,r);const c=u(e);return c&&s.set("Authorization",c),{method:a,headers:s}}function c(e){return e.length}var i="; ";function u(e){const t=document.cookie.split(i).find(t=>{const{name:o}=l(t);return o===e});return!!t&&l(t).value}function l(e){const[t,o]=e.split("=");return{name:t,value:o}}function h(e,t,o={}){if(0===c(e))throw new Error("'setCookie' should receive a valid cookie name");if(!["string","number","boolean"].includes(typeof t)||0===c(t.toString()))throw new Error("'setCookie' should receive a valid cookie value");const n=[`${e}=${t}`];o?.expires&&o?.expires instanceof Date&&n.push("expires="+o.expires.toUTCString()),o.maxAge&&n.push(`maxAge=${o.maxAge}`),o?.sameSite&&"string"==typeof o?.sameSite&&n.push(`SameSite=${o?.sameSite}`),o?.path&&n.push(`path=${o?.path}`),o?.domain&&n.push(`domain=${o?.path}`),o?.httpOnly&&n.push("HttpOnly"),o?.secure&&n.push("Secure");const a=n.join(i);return document.cookie=a,a}var p=86400;async function m(){const e="Houve um erro com o processo de logout";try{const t=await fetch("https://xef5-44zo-gegm.b2.xano.io/api:t3reRXiD/auth/logout",{...r([],"DELETE")});if(!t.ok){const o=await t.json();return a.call(t,o?.message??e)}return s.call(t,null)}catch(t){return a(e)}}!1!==u(e)?(document.querySelectorAll("[data-wtf-authless-element]").forEach(e=>{e.remove()}),document.querySelectorAll("[data-wtf-button-logout]").forEach(t=>{t.addEventListener("click",async()=>{const{succeeded:t}=await m();t&&(h(e,"=",{path:"/",secure:!0,sameSite:"Strict",expires:new Date(0)}),location.reload())},!1)})):document.querySelectorAll("[data-wtf-auth-element]").forEach(e=>{e.remove()})}();