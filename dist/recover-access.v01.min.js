(()=>{let a="; ",r="oculto",o="disabled",n="mensagemdeerro",s="[data-wtf-wrapper]";var e="#wf-form-recover-password";function u(e,t,a,n){e&&e.addEventListener(t,a,n)}function i(e,t=document){return t?t.querySelector(e):null}function d(e){var[e,t]=e.split("=");return{name:e,value:t}}function t(){var t,e;return t="__Host-Talho-AuthToken",!!(e=document.cookie.split(a).find(e=>{e=d(e).name;return e===t}))&&d(e).value}function c(e,t){e&&(e=e.closest(s))&&m(e,n,!t)}function f(e){return{message:e,succeeded:!1}}function l(e,t){e&&e.removeAttribute(t)}function m(e,t,a){e&&e.classList.toggle(t,a)}function v(e,t){var a,n=!t.succeeded;e&&(a=i("[data-wtf-general-error-message]",e),e=i("[data-wtf-success-message]",e),m(a,r,!n),m(e,r,n),n)&&(e=a&&i("div",a))&&(e.textContent=t.message)}if(t())location.href="/area-do-usuario/pedidos-de-compra";else{var p,g,w,h=i(e);if(h){for(p of["name","method","data-name","aria-label","data-wf-page-id","data-wf-element-id","data-turnstile-sitekey"])l(h,p);var b=h.parentNode;h.remove(),w=["w-form"],(g=b)&&g.classList.remove(...w),b.insertAdjacentHTML("afterbegin",h.outerHTML)}let t=i(e),a=i('[type="submit"]',t),n=(l(a,o),i("[data-wtf-user]"));function y(){t="wtfEmail";var t,e,a=function(e){return[t,e]};return n?(e=/^(([\p{L}\p{N}!#$%&'*+\/=?^_`{|}~-]+(\.[\p{L}\p{N}!#$%&'*+\/=?^_`{|}~-]+)*)|("[\p{L}\p{N}\s!#$%&'*+\/=?^_`{|}~.-]+"))@(([a-zA-Z0-9]+(-[a-zA-Z0-9]+)*\.)+[a-zA-Z]{2,63}|(\[(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\]))$/u.test(n.value),c(n,e),a(e)):a(!1)}u(n,"blur",y),u(n,"input",()=>c(n,!0)),u(t,"submit",function(e){e.preventDefault(),e.stopPropagation(),a?.setAttribute(o,o);var[,e]=y();if(!e)return v(t,f("Houve uma falha ao validar seus dados. Por favor, tente novamente.")),l(a,o);(async e=>{var t="Houve uma falha ao enviar o token. Por favor, tente novamente mais tarde.";try{var a=await fetch("https://xef5-44zo-gegm.b2.xano.io/api:uImEuFxO/auth/magic-link",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});return a.ok?{data:await a.json(),succeeded:!0}:f((await a.json())?.message??t)}catch(e){return f(t)}})(n?.value??"").then(e=>{v(t,e),l(a,o),e.succeeded&&t?.reset()})},!1)}})();