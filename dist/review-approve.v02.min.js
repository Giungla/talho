(()=>{let o="; ";var e=(n=new URLSearchParams(location.search)).get("action"),n=n.get("review_id");if(e&&n){let t=c("[data-wtf-error-review]"),a=c("[data-wtf-approve-review]");function r(e){e&&e.remove()}function i(e,t){e&&(e.textContent="string"==typeof t?t:t.toString())}function c(e,t=document){return t?t.querySelector(e):null}function s(e){return{message:e,succeeded:!1}}function u(e,t,a){return e.split(t,a)}function d(e){var[e,t]=u(e,"=");return{name:e,value:t}}(async({review_id:e,action:t})=>{var a,n,r="Não foi possível alterar a situação da avaliação";try{var i=await fetch(`https://xef5-44zo-gegm.b2.xano.io/api:9ixgU7Er/ratings/${e}/`+t,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:(a="__Host-Talho-AuthToken",!!(n=u(document.cookie,o).find(e=>{e=d(e).name;return e===a}))&&d(n).value||"")},body:JSON.stringify({})});return i.ok?{data:await i.json(),succeeded:!0}:s((await i.json())?.message??r)}catch(e){return s(r)}})({action:e,review_id:parseInt(n)}).then(e=>{if(!e.succeeded)return r(a),i(c("div",t),e.message);r(t),i(c("div",a),e.data.message)})}})();