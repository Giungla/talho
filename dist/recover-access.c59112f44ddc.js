"use strict";(()=>{var B=401,_="__Host-Talho-AuthToken",b="__Host-Talho-Session-Cookie",L="X-Talho-Session";function J(e){!e||e.status!==B||(location.href=I("/acessos/entrar",{redirect_to:encodeURIComponent(location.pathname)}))}function V(e){let t=e?.headers.get(L);t&&C(b,t,{path:"/",secure:!0,sameSite:"Strict",expires:new Date(Date.now()+N(90))})}function A(e){return V(this),J(this),{message:e,succeeded:!1}}function O(e){return V(this),{data:e,succeeded:!0}}function v(e=[],t="GET"){let o=new Headers({Accept:"application/json","Content-Type":"application/json"});for(let[f,R]of e)o.set(f,R);let r=p(b);r&&o.set(L,r);let a=p(_);return a&&o.set("Authorization",a),{method:t,headers:o}}var j=null,x="oculto";function M(){return!!p(_)}function u(e,t=document){return t?t.querySelector(e):j}function S(e,t,o,r){if(e)return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)}function k(e,t,o){e&&e.setAttribute(t,o)}function l(e,t){e&&e.removeAttribute(t)}function P(e,...t){e&&e.classList.remove(...t)}function g(e,t,o){return e?e.classList.toggle(t,o):!1}function w(e,t){e&&(e.textContent=typeof t=="string"?t:t.toString())}function I(e,t={}){let o=new URL(`${location.protocol}//${location.hostname}`),r=new URL(e,o);for(let[a,f]of Object.entries(t))r.searchParams.set(a,f);return r.toString()}function D(e){return JSON.stringify(e)}function y(e){return e.length}function H(){return/^(([\p{L}\p{N}!#$%&'*+\/=?^_`{|}~-]+(\.[\p{L}\p{N}!#$%&'*+\/=?^_`{|}~-]+)*)|("[\p{L}\p{N}\s!#$%&'*+\/=?^_`{|}~.-]+"))@(([a-zA-Z0-9]+(-[a-zA-Z0-9]+)*\.)+[a-zA-Z]{2,63}|(\[(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\]))$/u}var G="; ";function p(e){let t=document.cookie.split(G).find(o=>{let{name:r}=F(o);return r===e});return t?F(t).value:!1}function F(e){let[t,o]=e.split("=");return{name:t,value:o}}function C(e,t,o={}){if(y(e)===0)throw new Error("'setCookie' should receive a valid cookie name");if(!["string","number","boolean"].includes(typeof t)||y(t.toString())===0)throw new Error("'setCookie' should receive a valid cookie value");let r=[`${e}=${t}`];o?.expires&&o?.expires instanceof Date&&r.push("expires="+o.expires.toUTCString()),o.maxAge&&r.push(`maxAge=${o.maxAge}`),o?.sameSite&&typeof o?.sameSite=="string"&&r.push(`SameSite=${o?.sameSite}`),o?.path&&r.push(`path=${o?.path}`),o?.domain&&r.push(`domain=${o?.path}`),o?.httpOnly&&r.push("HttpOnly"),o?.secure&&r.push("Secure");let a=r.join(G);return document.cookie=a,a}function N(e){return 86400*1e3*e}var X=new Intl.NumberFormat("pt-BR",{currency:"BRL",style:"currency"});var U={AC:"Acre",AL:"Alagoas",AP:"Amap\xE1",AM:"Amazonas",BA:"Bahia",CE:"Cear\xE1",DF:"Distrito Federal",ES:"Esp\xEDrito Santo",GO:"Goi\xE1s",MA:"Maranh\xE3o",MT:"Mato Grosso",MS:"Mato Grosso do Sul",MG:"Minas Gerais",PA:"Par\xE1",PB:"Para\xEDba",PR:"Paran\xE1",PE:"Pernambuco",PI:"Piau\xED",RJ:"Rio de Janeiro",RN:"Rio Grande do Norte",RS:"Rio Grande do Sul",RO:"Rond\xF4nia",RR:"Roraima",SC:"Santa Catarina",SP:"S\xE3o Paulo",SE:"Sergipe",TO:"Tocantins"},Y=Object.keys(U),W=Object.values(U);var $="https://xef5-44zo-gegm.b2.xano.io";(function(){let e="disabled",t="mensagemdeerro",o="[data-wtf-wrapper]",r="/area-do-usuario/pedidos-de-compra",a="#wf-form-recover-password";function f(n){return function(s){return[n,s]}}function R(n,s){n&&g(n.closest(o),t,!s)}function K(n,s){let i=!s.succeeded;if(!n)return;let E=u("[data-wtf-general-error-message]",n),h=u("[data-wtf-success-message]",n);g(E,x,!i),g(h,x,i),i&&w(E&&u("div",E),s.message)}async function z(n){let s="Houve uma falha ao enviar o token. Por favor, tente novamente mais tarde.";try{let i=await fetch(`${$}/api:uImEuFxO/auth/magic-link`,{...v([],"POST"),body:D({email:n})});if(!i.ok){let h=await i.json();return A.call(i,h?.message??s)}let E=await i.json();return O.call(i,E)}catch{return A(s)}}if(M()){location.href=r;return}let d=u(a);if(d){let n=["name","method","data-name","aria-label","data-wf-page-id","data-wf-element-id","data-turnstile-sitekey"];for(let i of n)l(d,i);let s=d.parentNode;d.remove(),P(s,"w-form"),s.insertAdjacentHTML("afterbegin",d.outerHTML)}let m=u(a),T=u('[type="submit"]',m);l(T,e);let c=u("[data-wtf-user]");function q(){let n=f("wtfEmail");if(!c)return n(!1);let s=H().test(c.value);return R(c,s),n(s)}S(c,"blur",q),S(c,"input",()=>R(c,!0)),S(m,"submit",function(n){n.preventDefault(),n.stopPropagation(),k(T,e,e);let[,s]=q();if(!s)return K(m,A("Houve uma falha ao validar seus dados. Por favor, tente novamente.")),l(T,e);z(c?.value??"").then(i=>{K(m,i),l(T,e),i.succeeded&&m?.reset()})},!1)})();})();
