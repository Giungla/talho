!function(){"use strict";var e="__Host-Talho-Session-Cookie",t="X-Talho-Session";function o(o){const n=o?.headers.get(t);n&&function(e,t,o={}){if(0===r(e))throw new Error("'setCookie' should receive a valid cookie name");if(!["string","number","boolean"].includes(typeof t)||0===r(t.toString()))throw new Error("'setCookie' should receive a valid cookie value");const n=[`${e}=${t}`];o?.expires&&o?.expires instanceof Date&&n.push("expires="+o.expires.toUTCString()),o.maxAge&&n.push(`maxAge=${o.maxAge}`),o?.sameSite&&"string"==typeof o?.sameSite&&n.push(`SameSite=${o?.sameSite}`),o?.path&&n.push(`path=${o?.path}`),o?.domain&&n.push(`domain=${o?.path}`),o?.httpOnly&&n.push("HttpOnly"),o?.secure&&n.push("Secure");const s=n.join(a);document.cookie=s}(e,n,{path:"/",secure:!0,sameSite:"Strict",expires:new Date(Date.now()+1e3*u*14)})}function n(e){return o(this),this&&401===this.status&&(location.href=function(e,t={}){const o=new URL(`${location.protocol}//${location.hostname}`),n=new URL(e,o);for(const[s,r]of Object.entries(t))n.searchParams.set(s,r);return n.toString()}("/acessos/entrar",{redirect_to:encodeURIComponent(location.pathname+location.search)})),{message:e,succeeded:!1}}function s(o=[],n="GET"){const s="application/json",r=new Headers({Accept:s,"Content-Type":s});for(const[e,t]of o)r.set(e,t);const a=i(e);a&&r.set(t,a);const c=i("__Host-Talho-AuthToken");return c&&r.set("Authorization",c),{method:n,headers:r}}function r(e){return e.length}var a="; ";function i(e){const t=document.cookie.split(a).find(t=>{const{name:o}=c(t);return o===e});return!!t&&c(t).value}function c(e){const[t,o]=e.split("=");return{name:t,value:o}}var u=86400,{createApp:d}=Vue;d({name:"TalhoOrderNoteApp",setup:()=>({}),data:()=>({order:null}),async created(){const e=(new URLSearchParams).get("transactionid");if(!e)return;const t=await this.getOrder(e);t.succeeded&&(this.order=t.data)},methods:{async getOrder(e){const t="Não foi possível encontrar o pedido";try{const r=await fetch(`https://xef5-44zo-gegm.b2.xano.io/api:jiIoKYhH/order/delivery-prepare?transactionid=${e}`,{...s()});if(!r.ok){const e=await r.json();return n(e?.message??t)}return function(e){return o(this),{data:e,succeeded:!0}}(await r.json())}catch(r){return n(t)}}},computed:{company(){return this.order?.company??null}},watch:{},directives:{}}).mount("section.page"),window.addEventListener("pageshow",e=>{e.persisted&&window.location.reload()})}();