"use strict";(()=>{(function(){let h="disabled",c="oculto",L="__Host-Talho-AuthToken",f="https://xef5-44zo-gegm.b2.xano.io";function S(e){return e.length}function u(e,t,r){return e?e.classList.toggle(t,r):!1}function m(e){if(e)return e.remove()}function a(e,t){e&&(e.textContent=typeof t=="string"?t:t.toString())}function n(e,t=document){return t?t.querySelector(e):null}function R(e){return{data:e,succeeded:!0}}function p(e){return{message:e,succeeded:!1}}async function g(e){let t="N\xE3o foi poss\xEDvel localizar as avalia\xE7\xF4es para o produto";try{let r=await fetch(`${f}/api:9ixgU7Er/ratings/${e}/list`,{headers:{"Content-Type":"application/json"}});if(!r.ok){let d=await r.json();return p(d?.message??t)}let s=await r.json();return R(s)}catch{return p(t)}}function T(){let e=document.createDocumentFragment();u(n("[data-wtf-top-product-rating]"),c,!o.hasReviews),u(n("[data-wtf-review-section]"),c,!o.hasReviews),u(n("[data-wtf-review-line]"),c,!o.hasReviews);for(let{name:t,comment:r,rating:s,created_at:d}of o.response?.reviews.items??[]){let i=w?.cloneNode(!0);a(n("[data-wtf-review-average]",i),s.toString()),a(n("[data-wtf-review-customer-name]",i),t),a(n("[data-wtf-review-created-at]",i),d),a(n("[data-wtf-review-comment]",i),r),e.appendChild(i)}a(n("[data-wtf-review-count]"),o.response?.count??0),a(n("[data-wtf-review-media]"),o.response?.average??0),a(n("[data-wtf-review-title]"),o.reviewsCount>1?"Avalia\xE7\xF4es":"Avalia\xE7\xE3o"),a(n("h1",n("[data-wtf-top-product-rating]")),o.response?.average??0),l?.replaceChildren(e)}let o=new Proxy({response:null},{get(e,t){let r=e.response?.count??0;switch(t){case"reviewsCount":return r;case"hasReviews":return r>0;default:return e[t]}},set(e,t,r){let s=Reflect.set(e,t,r);if(!s)return s;switch(t){case"response":T();break}return!0}}),l=n("[data-wtf-review-list]");if(!l)return;let w=n("[data-wtf-review-template]",l);if(!w)return;m(w);let v=location.pathname.split("/").filter(Boolean).at(-1);v&&g(v).then(e=>{e.succeeded&&(o.response=e.data)})})();})();
