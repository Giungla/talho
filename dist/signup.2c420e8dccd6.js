"use strict";(()=>{var Se=401,C="__Host-Talho-AuthToken",H="__Host-Talho-Session-Cookie",F="X-Talho-Session";function Ae(e){!e||e.status!==Se||(location.href=q("/acessos/entrar",{redirect_to:encodeURIComponent(location.pathname)}))}function ne(e){let r=e?.headers.get(F);r&&V(H,r,{path:"/",secure:!0,sameSite:"Strict",expires:new Date(Date.now()+K(90))})}function v(e){return ne(this),Ae(this),{message:e,succeeded:!1}}function U(e){return ne(this),{data:e,succeeded:!0}}function G(e=[],r="GET"){let o=new Headers({Accept:"application/json","Content-Type":"application/json"});for(let[p,f]of e)o.set(p,f);let a=A(H);a&&o.set(F,a);let l=A(C);return l&&o.set("Authorization",l),{method:r,headers:o}}var re=null,b="oculto",$={block:"center",behavior:"smooth"};function z(){return!!A(C)}function u(e,r=document){return r?r.querySelector(e):re}function m(e,r,o,a){if(e)return e.addEventListener(r,o,a),()=>e.removeEventListener(r,o,a)}function j(e,r,o){e&&e.setAttribute(r,o)}function T(e,r){e&&e.removeAttribute(r)}function M(e,...r){e&&e.classList.add(...r)}function I(e,...r){e&&e.classList.remove(...r)}function L(e,r,o){return e?e.classList.toggle(r,o):!1}function w(e,r){e&&(e.textContent=typeof r=="string"?r:r.toString())}function q(e,r={}){let o=new URL(`${location.protocol}//${location.hostname}`),a=new URL(e,o);for(let[l,p]of Object.entries(r))a.searchParams.set(l,p);return a.toString()}function B(e){return JSON.stringify(e)}function g(e){return e.length}function X(){return/^(([\p{L}\p{N}!#$%&'*+\/=?^_`{|}~-]+(\.[\p{L}\p{N}!#$%&'*+\/=?^_`{|}~-]+)*)|("[\p{L}\p{N}\s!#$%&'*+\/=?^_`{|}~.-]+"))@(([a-zA-Z0-9]+(-[a-zA-Z0-9]+)*\.)+[a-zA-Z]{2,63}|(\[(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\]))$/u}function P(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function J(e,r){e&&e.focus(r)}function Y(e,r){e&&e.scrollIntoView(r)}var Z="; ";function A(e){let r=document.cookie.split(Z).find(o=>{let{name:a}=W(o);return a===e});return r?W(r).value:!1}function W(e){let[r,o]=e.split("=");return{name:r,value:o}}function V(e,r,o={}){if(g(e)===0)throw new Error("'setCookie' should receive a valid cookie name");if(!["string","number","boolean"].includes(typeof r)||g(r.toString())===0)throw new Error("'setCookie' should receive a valid cookie value");let a=[`${e}=${r}`];o?.expires&&o?.expires instanceof Date&&a.push("expires="+o.expires.toUTCString()),o.maxAge&&a.push(`maxAge=${o.maxAge}`),o?.sameSite&&typeof o?.sameSite=="string"&&a.push(`SameSite=${o?.sameSite}`),o?.path&&a.push(`path=${o?.path}`),o?.domain&&a.push(`domain=${o?.path}`),o?.httpOnly&&a.push("HttpOnly"),o?.secure&&a.push("Secure");let l=a.join(Z);return document.cookie=l,l}function K(e){return 86400*1e3*e}var Te=new Intl.NumberFormat("pt-BR",{currency:"BRL",style:"currency"});var Q={AC:"Acre",AL:"Alagoas",AP:"Amap\xE1",AM:"Amazonas",BA:"Bahia",CE:"Cear\xE1",DF:"Distrito Federal",ES:"Esp\xEDrito Santo",GO:"Goi\xE1s",MA:"Maranh\xE3o",MT:"Mato Grosso",MS:"Mato Grosso do Sul",MG:"Minas Gerais",PA:"Par\xE1",PB:"Para\xEDba",PR:"Paran\xE1",PE:"Pernambuco",PI:"Piau\xED",RJ:"Rio de Janeiro",RN:"Rio Grande do Norte",RS:"Rio Grande do Sul",RO:"Rond\xF4nia",RR:"Roraima",SC:"Santa Catarina",SP:"S\xE3o Paulo",SE:"Sergipe",TO:"Tocantins"},Re=Object.keys(Q),ye=Object.values(Q);var oe="https://xef5-44zo-gegm.b2.xano.io";(function(){let e="disabled",r="mensagemdeerro",o="[data-wtf-wrapper]",a={preventScroll:!1};function l(n,t){let s=!t.succeeded,c=u("[data-wtf-success-message]",n);if(L(k,b,!s),L(c,b,s),!s){setTimeout(()=>M(c,b),8e3);return}ie(t.message,k)}function p(n){return function(t){return[n,t]}}function f(n,t){n&&L(n.closest("[data-wtf-wrapper]"),r,!t)}async function se(n){let t="Houve uma falha ao realizar o cadastro. Por favor, tente novamente mais tarde.";try{let s=await fetch(`${oe}/api:t3reRXiD/auth/signup`,{...G([],"POST"),body:B(n)});if(!s.ok){let S=await s.json();return v.call(s,S?.message??t)}let c=await s.json();return U.call(s,c)}catch{return v(t)}}if(z()){location.href="/area-do-usuario/pedidos-de-compra";return}let R=u("#wf-form-register");if(R){let n=["name","method","data-name","aria-label","data-wf-page-id","data-wf-element-id","data-turnstile-sitekey","data-wf-user-form-type"];for(let s of n)T(R,s);let t=R.parentElement;I(t,"w-form"),R.remove(),t.insertAdjacentHTML("afterbegin",R.outerHTML)}let i=u("#wf-form-register"),k=u("[data-wtf-general-error-message]",i),y=u("[data-wtf-name]",i),h=u("[data-wtf-last-name]",i),x=u("[data-wtf-email]",i),E=u("[data-wtf-password]",i),_=u("[data-wtf-consent]",i),ae=u("[data-wtf-optin]",i),O=u('input[type="submit"]',i);function ie(n,t){if(!t)return;let s=u("div",t);w(s,n)}function ue({hasNumber:n,hasLowercase:t,hasUppercase:s,hasMinLength:c,hasSpecialChar:S}){let d=(D,N)=>`Sua senha deve conter pelo menos ${D} ${N}.`;return c?n?S?t?s?!1:d(1,"letra mai\xFAscula"):d(1,"letra min\xFAscula"):d(1,"caractere especial"):d(1,"n\xFAmero"):d(8,"caracteres")}function ce(n,t){if(!n)return;let s=n.closest(o);s&&w(u("[data-wtf-field-error] div",s),t)}function le(n){return t=>t.test(n)}function pe(n){let t=le(n);return{hasNumber:t(/\d/),hasLowercase:t(/[a-z]/),hasUppercase:t(/[A-Z]/),hasMinLength:t(/.{8,}/),hasSpecialChar:t(/[!@#$%^&*()_+{}\[\]:;<>,.?\/~\\-]/)}}function ee(n){return/^[a-zA-Z\s]+$/.test(n)}function fe(){let n=p("wtfUser");if(!y)return n(!1);let t=P(y.value).trim().replace(/\s{2,}/g," "),s=g(t)>1&&ee(t);return f(y,s),n(s)}function de(){let n=p("wtfLastName");if(!h)return n(!1);let t=P(h.value).trim().replace(/\s{2,}/g," "),s=g(t)>0&&ee(t);return f(h,s),n(s)}function me(){let n=p("wtfEmail");if(!x)return n(!1);let t=X().test(x.value);return f(x,t),n(t)}function ge(){let n=p("wtfPassword");if(!E)return n(!1);let{hasNumber:t,hasLowercase:s,hasUppercase:c,hasMinLength:S,hasSpecialChar:d}=pe(E.value),D=ue({hasNumber:t,hasLowercase:s,hasUppercase:c,hasMinLength:S,hasSpecialChar:d}),N=t&&s&&c&&d&&S;return ce(E,D||""),f(E,N),n(N)}function Ee(){let n=p("wtfConsent");if(!_)return n(!1);let t=_.checked;return f(_,t),n(t)}let te=[{field:y,validator:fe},{field:h,validator:de},{field:x,validator:me},{field:E,validator:ge}];for(let{field:n,validator:t}of te)m(n,"blur",t),m(n,"input",()=>f(n,!0));m(_,"input",Ee,!1),m(i,"reset",()=>{let n="w--redirected-checked";document.querySelectorAll(`#${i?.id} .${n}`).forEach(t=>{I(t,n)})}),m(i,"submit",async n=>{n.preventDefault(),n.stopPropagation(),j(O,e,e);let t=te.find(({validator:c})=>c().at(1)===!1);if(t)return l(i,v("Houve uma falha ao validar os seus dados. Por favor, tente novamente.")),J(t.field,a),T(O,e);let s=await se({name:y?.value,lastName:h?.value,email:x?.value,password:E?.value,optin:ae?.checked,consent:_?.checked});l(i,s),T(O,e),s.succeeded&&(i?.reset(),Y(k,$))}),M(i?.parentElement,"w-form"),T(O,e)})();})();
