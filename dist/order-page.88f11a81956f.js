"use strict";(()=>{var h="; ";function c(r){let e=document.cookie.split(h).find(o=>{let{name:t}=g(o);return t===r});return e?g(e).value:!1}function g(r){let[e,o]=r.split("=");return{name:e,value:o}}function S(r,e,o={}){if(r.length===0)throw new Error("'setCookie' should receive a valid cookie name");if(!["string","number","boolean"].includes(typeof e)||e.toString().length===0)throw new Error("'setCookie' should receive a valid cookie value");let t=[`${r}=${e}`];o?.expires&&o?.expires instanceof Date&&t.push("expires="+o.expires.toUTCString()),o.maxAge&&t.push(`maxAge=${o.maxAge}`),o?.sameSite&&typeof o?.sameSite=="string"&&t.push(`SameSite=${o?.sameSite}`),o?.path&&t.push(`path=${o?.path}`),o?.domain&&t.push(`domain=${o?.path}`),o?.httpOnly&&t.push("HttpOnly"),o?.secure&&t.push("Secure");let n=t.join(h);return document.cookie=n,n}var M=401,A="__Host-Talho-AuthToken",E="__Host-Talho-Session-Cookie",y="X-Talho-Session";function D(r){!r||r.status!==M||(location.href=x("/acessos/entrar",{redirect_to:encodeURIComponent(location.pathname)}))}function L(r){let e=r?.headers.get(y);e&&S(E,e,{path:"/",secure:!0,sameSite:"Strict",expires:new Date(Date.now()+O(90))})}function d(r){return L(this),D(this),{message:r,succeeded:!1}}function T(r){return L(this),{data:r,succeeded:!0}}function _(r=[],e="GET"){let o=new Headers({Accept:"application/json","Content-Type":"application/json"});for(let[s,i]of r)o.set(s,i);let t=c(E);t&&o.set(y,t);let n=c(A);return n&&o.set("Authorization",n),{method:e,headers:o}}function O(r){return 86400*1e3*r}var a=new Intl.NumberFormat("pt-BR",{currency:"BRL",style:"currency"});var p=null,C="oculto";function l(r,e=document){return e?e.querySelector(r):p}function N(r,e,o){return r?r.classList.toggle(e,o):!1}function R(r){return N(l("[data-wtf-loader]"),C,!r)}function x(r,e={}){let o=new URL(`${location.protocol}//${location.hostname}`),t=new URL(r,o);for(let[n,s]of Object.entries(e))t.searchParams.set(n,s);return t.toString()}function b(r){return r===p}var P={AC:"Acre",AL:"Alagoas",AP:"Amap\xE1",AM:"Amazonas",BA:"Bahia",CE:"Cear\xE1",DF:"Distrito Federal",ES:"Esp\xEDrito Santo",GO:"Goi\xE1s",MA:"Maranh\xE3o",MT:"Mato Grosso",MS:"Mato Grosso do Sul",MG:"Minas Gerais",PA:"Par\xE1",PB:"Para\xEDba",PR:"Paran\xE1",PE:"Pernambuco",PI:"Piau\xED",RJ:"Rio de Janeiro",RN:"Rio Grande do Norte",RS:"Rio Grande do Sul",RO:"Rond\xF4nia",RR:"Roraima",SC:"Santa Catarina",SP:"S\xE3o Paulo",SE:"Sergipe",TO:"Tocantins"},k=Object.keys(P),w=Object.values(P);var I="https://xef5-44zo-gegm.b2.xano.io";(function(){let{createApp:r}=window.Vue,e="-";r({name:"TalhoOrderPage",setup(){},data(){return{order:p}},async created(){let n=new URLSearchParams(location.search).get("order");if(!n){location.href="/";return}let s=await this.getOrder(n);if(!s.succeeded){location.href="/";return}this.order=s.data,R(!1)},mounted(){},methods:{async getOrder(t){let n="Falha ao capturar o pedido";try{let s=await fetch(`${I}/api:5lp3Lw8X/order-details/${t}`,{..._()});if(!s.ok){let u=await s.json();return d.call(s,u?.message??n)}let i=await s.json();return T.call(s,i)}catch{return d(n)}}},computed:{name(){return this.order?.name??e},email(){return this.order?.email??e},cpf(){return this.order?.cpf_cnpj??e},phone(){return this.order?.phone??e},shipping(){let{number:t=e,cep:n=e,address:s=e,state:i=e,city:u=e,complement:m=e,neighborhood:f=e,user_name:v=e}=this.order?.delivery.address??{};return{user_name:v,cep:n,address:s,number:t,complement:m,neighborhood:f,city:u,state:i}},billing(){let{cep:t=e,address:n=e,number:s=e,complement:i=e,neighborhood:u=e,city:m=e,state:f=e}=this.order?.billing_address??{};return{cep:t,address:n,number:s,complement:i,neighborhood:u,city:m,state:f}},hasOrderDiscount(){return!b(this.order?.discount_code)},getOrderSubtotalPriceFormatted(){let t=this.order?.order_items.reduce((n,{unit_price:s,quantity:i})=>n+s*i,0);return a.format(t?t/100:0)},getOrderPriceFormatted(){let t=this.order?.total;return a.format(typeof t=="number"?t/100:0)},getOrderShipping(){let t=this.order?.delivery.quotation_price;return typeof t=="number"?t/100:0},getOrderShippingPriceFormatted(){return a.format(this.getOrderShipping)},getOrderDiscountPriceFormatted(){return a.format((this.order?.discount??0)*-1)},getParsedProducts(){let{order_items:t=[]}=this.order??{};return t.map(({name:n,product_id:s,unit_price:i,quantity:u})=>({quantity:u,title:n,key:s,unit_amount:a.format(i/100),final_price:a.format(i*u/100)}))},hasPriority(){return this.order?.delivery.has_priority??!1},getPriorityFee(){return this.hasPriority?this.order?.delivery.priority_price/100:0},getPriorityFeePriceFormatted(){return a.format(this.getPriorityFee)},hasSubsidy(){return this.order?.delivery.has_subsidy??!1},getDeliverySubsidy(){return this.hasSubsidy?-1*Math.min(this.getOrderShipping,this.order?.delivery.subsidy_price/100):0},getDeliverySubsidyPriceFormatted(){return a.format(this.getDeliverySubsidy)}}}).mount(l("#orderapp"))})();})();
