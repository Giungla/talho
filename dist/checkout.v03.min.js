(()=>{let{ref:e,createApp:i}=Vue,n="",a="/",t=null,r="error",s="https://xef5-44zo-gegm.b2.xano.io",d=(s,s+"/api:5lp3Lw8X"),o=s+"/api:24B7O9Aj",l={headers:{Accept:"application/json","Content-Type":"application/json"}},h={method:"POST",...l},u={AC:"Acre",AL:"Alagoas",AP:"Amapá",AM:"Amazonas",BA:"Bahia",CE:"Ceará",DF:"Distrito Federal",ES:"Espírito Santo",GO:"Goiás",MA:"Maranhão",MT:"Mato Grosso",MS:"Mato Grosso do Sul",MG:"Minas Gerais",PA:"Pará",PB:"Paraíba",PR:"Paraná",PE:"Pernambuco",PI:"Piauí",RJ:"Rio de Janeiro",RN:"Rio Grande do Norte",RS:"Rio Grande do Sul",RO:"Rondônia",RR:"Roraima",SC:"Santa Catarina",SP:"São Paulo",SE:"Sergipe",TO:"Tocantins"},c=Object.keys(u),p=[10,11],m=new WeakMap,g=new Event("input"),C="same",y="diff",v="pix",b="creditcard",P=(v,b,new Intl.NumberFormat("pt-BR",{currency:"BRL",style:"currency"}));function V(e,i){return Object.hasOwn(e,i)}function f(e){return JSON.stringify(e)}function E(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,n)}function D(e){return e.replace(/\D+/g,n)}function A(e){return e.trim()}function S(e){return e.length}function N(e,i,t){return e?i.push(t):-1}function w(e,i){return e.includes(i)}function R(e,i){return e.test(i)}function F(...t){return{mounted(i){var e=k(i,"input",e=>{e.isTrusted&&((e=e.target).value=t.reduce((e,i)=>i(e),e.value??n),i.dispatchEvent(g))});m.set(i,e)},unmounted:j}}function M(e,i,t){return{field:e,valid:i,...t&&{ignoreIf:t}}}function I(e){return{message:e,succeeded:!1}}function H(e){return{data:e,succeeded:!0}}function k(e,i,t,r){if(e)return e.addEventListener(i,t,r),()=>e.removeEventListener(i,t,r)}let j=e=>{var i=m.get(e);i&&(i(),m.delete(e))};i({name:"TalhoCheckoutApp",setup(){return{customerCPF:e(n),customerMail:e(n),customerPhone:e(n),customerBirthdate:e(n),customerCreditCardCVV:e(n),customerCreditCardDate:e(n),customerCreditCardNumber:e(n),customerCreditCardHolder:e(n),billingCEP:e(n),billingAddress:e(n),billingNumber:e(n),billingComplement:e(n),billingNeighborhood:e(n),billingCity:e(n),billingState:e(n),shippingRecipient:e(n),shippingCEP:e(n),shippingAddress:e(n),shippingNumber:e(n),shippingComplement:e(n),shippingNeighborhood:e(n),shippingCity:e(n),shippingState:e(n),couponCode:e(n),customerMailElement:e(t),customerCPFElement:e(t),customerPhoneElement:e(t),customerBirthdateElement:e(t),paymentMethodMessageElement:e(t),customerCreditCardCVVElement:e(t),customerCreditCardDateElement:e(t),customerCreditCardNumberElement:e(t),customerCreditCardHolderElement:e(t),billingCEPElement:e(t),billingAddressElement:e(t),billingNumberElement:e(t),billingNeighborhoodElement:e(t),billingCityElement:e(t),billingStateElement:e(t),deliveryPlaceElement:e(t),shippingRecipientElement:e(t),shippingCEPElement:e(t),shippingAddressElement:e(t),shippingNumberElement:e(t),shippingNeighborhoodElement:e(t),shippingCityElement:e(t),shippingStateElement:e(t),deliveryDateMessageElement:e(t),deliveryHourMessageElement:e(t),couponCodeElement:e(t)}},data(){return{isSubmitted:!1,productlist:t,visitedFields:[],selectedPayment:t,availablePayments:[{label:"Cartão de crédito",method:b},{label:"PIX",method:v}],deliveryPlace:t,deliveryPlaces:[{token:C,label:"Mesmo endereço de cobrança do cartão"},{token:y,label:"Entregar em um endereço diferente"}],installment:t,selectedInstallment:t,isCouponPending:!1,coupon:t,isPagSeguroLoaded:!1,deliveryDate:t,deliveryDates:t,deliveryHour:t,deliveryHours:t}},created(){this.refreshCart(),window.addEventListener("storage",e=>{"talho_cart_items"===e.key&&this.refreshCart()})},methods:{async getCart(){var i="Falha ao capturar os produtos";try{var e=await fetch("https://xef5-44zo-gegm.b2.xano.io/api:79PnTkh_/cart/get",{...l,credentials:"include"});return e.ok?H(await e.json()):I((await e.json())?.message??i)}catch(e){return I(i)}},refreshCart(){this.getCart().then(e=>{e.succeeded&&(this.productlist=e.data)})},async getInstallments(){var i="Falha ao capturar o parcelamento";try{var e=await fetch(d+"/calculatefees",{...h,cache:"force-cache",body:f({amount:this.getOrderPrice,cardBin:this.customerCreditCardNumber.replace(/\D+/g,n).slice(0,8)})});return e.ok?H(await e.json()):I((await e.json())?.message??i)}catch(e){return I(i)}},async refreshInstallments(){var e;this.isCreditCard&&(this.installment=t,this.selectedInstallment=t,(e=await this.getInstallments()).succeeded)&&(this.installment=e.data)},setSelectedInstallmentsCount(e){var i,t;this.selectedInstallment!==e&&(this.selectedInstallment=(i=1,t=2,Math.max(i,Math.min(t,e))))},setSelectedPaymentMethod(e){this.selectedPayment!==e&&(this.hasDeliveryDates||this.handleDeliveryDates(),e!==b&&this.clearCreditCardData(),e!==b||this.isPagSeguroLoaded||this.loadPagSeguro(),this.selectedPayment=e)},setVisitedField(e){return N(!w(this.visitedFields,e),this.visitedFields,e)},hasVisitRegistry(e){return w(this.visitedFields,e)},async handlePayment(e){if(e.preventDefault(),this.triggerValidations(),this.isSubmitted){let e=this.firstInvalidField;var i,t;e?(i=e.field,t={block:"center",behavior:"smooth"},i.scrollIntoView(t),"INPUT"===e.field.tagName&&setTimeout(()=>e.field.focus(),500)):(i=await(0,{pix:this.handleProcessPIX,creditcard:this.handleProcessCreditCard,error:async()=>I("Houve uma falha no envio de seu pedido")}[this.selectedPayment??r])?.()).succeeded?(t=this.isCreditCard?"confirmacao-do-pedido":"pix",location.href=((e,i)=>{var t,r,s=new URL(location.protocol+"//"+location.hostname),a=new URL(e,s);for([t,r]of Object.entries(i))a.searchParams.set(t,r);return a.toString()})(["/pagamento",t].join(a),{order:i.data.transactionid})):alert("Pagamento falhou")}else this.isSubmitted=!0,Vue.nextTick(()=>this.handlePayment(e))},async handleProcessPIX(){var i="Falha ao gerar o pedido";try{var e=await fetch(d+"/process_pix",{...h,credentials:"include",body:f({...this.getOrderBaseData,customer:{...this.getParsedCustomer,...this.getParsedAddresses}})});return e.ok?H(await e.json()):I((await e.json())?.message??i)}catch(e){return I(i)}},async handleProcessCreditCard(){var t="Falha ao gerar o pedido";try{let i=this.selectedInstallment;var e=await fetch(d+"/process_creditcard",{...h,credentials:"include",body:f({...this.getOrderBaseData,customer:{...this.getParsedCustomer,...this.getParsedAddresses},is_same_address:this.isSameAddress,credit_card_info:{holderName:this.customerCreditCardHolder,creditCardToken:this.getCreditCardToken.encryptedCard??n,numberOfPayments:i,installmentValue:this.installment?.find(({installments:e})=>e===i)?.installment_value??0}})});return e.ok?H(await e.json()):I((await e.json())?.message??t)}catch(e){return I(t)}},triggerValidations(){var e;for({field:e}of this.notIgnoredFields)e?.dispatchEvent(new Event("blur"))},feedAddress(e,{uf:i,bairro:t,logradouro:r,localidade:s}){"billing"===e?(this.billingAddress=r,this.billingNeighborhood=t,this.billingCity=s,this.billingState=i):(this.shippingAddress=r,this.shippingNeighborhood=t,this.shippingCity=s,this.shippingState=i)},setDeliveryPlace(e){this.deliveryPlace!==e&&(this.deliveryPlace=e)},async captureAddress(e,i,t){R(/^\d{5}-\d{3}$/,i)&&i!==t&&(t=e+"CEP",(i=await(async e=>{var i="Não foi possível encontrar o endereço";if(8!==(e=D(e)).length)return I(i);try{var t=await fetch(s+"/api:jyidAW68/cepaddress/"+e);return t.ok?H(await t.json()):I((await t.json())?.message??i)}catch(e){return I(i)}})(i)).succeeded?this.feedAddress(e,i.data):(this[t]=n,this.setVisitedField(t)))},async captureCoupon(){var i="Falha ao capturar o cupom indicado";try{var e=await fetch(d+"/get_coupon",{...h,credentials:"include",body:f({verify_amount:!0,coupon_code:this.couponCode,cpf:this.customerCPF&&t})});return e.ok?H(await e.json()):I((await e.json())?.message??i)}catch(e){return I(i)}},async handleSearchCoupon(){var e;this.isCouponPending||(this.isCouponPending=!0,e=await this.captureCoupon(),this.isCouponPending=!1,e.succeeded?this.coupon=e.data:this.coupon={error:!0,message:e.message})},handleRemoveCoupon(){this.coupon=t,this.couponCode=n},loadPagSeguro(){var e=document.createElement("script");e.async=!0,e.src="https://assets.pagseguro.com.br/checkout-sdk-js/rc/dist/browser/pagseguro.min.js",e.onload=()=>{this.isPagSeguroLoaded=!0},document.head.appendChild(e)},clearCreditCardData(){this.customerCreditCardHolder=n,this.customerCreditCardNumber=n,this.customerCreditCardDate=n,this.customerCreditCardCVV=n},async captureAvailableDeliveryDates(){var i="Falha ao capturar as datas";try{var e=await fetch(o+"/delivery_dates",{cache:"force-cache"});return e.ok?H(await e.json()):I((await e.json())?.message??i)}catch(e){return I(i)}},async handleDeliveryDates(){var e=await this.captureAvailableDeliveryDates();e.succeeded&&(this.deliveryDates=e.data)},setDeliveryDate(i){var e=this.deliveryDates?.find(e=>e.shiftDays===i)?.date;e&&this.deliveryDate!==e&&(this.deliveryDate=e,this.deliveryHour=t,this.handleDeliveryHours())},async captureAvailableDeliveryHours(){var i="Falha ao capturar os horários";try{var e=await fetch(o+"/delivery_hours?date="+this.deliveryDate,{cache:"force-cache"});return e.ok?H(await e.json()):I((await e.json())?.message??i)}catch(e){return I(i)}},async handleDeliveryHours(){var e=await this.captureAvailableDeliveryHours();e.succeeded&&(this.deliveryHours=e.data)},setDeliveryHour(e){this.deliveryHour!==e&&0!==this.deliveryHours?.periods_count&&w(this.deliveryHours?.hours??[],e)&&(this.deliveryHour=e)}},computed:{hasSelectedPaymentMethod(){return this.selectedPayment!==t},isCreditCard(){return this.selectedPayment===b},getOrderSubtotal(){return this.productlist?.order_price??0},getOrderSubtotalFormatted(){return P.format(this.getOrderSubtotal)},getOrderPrice(){return[this.getOrderSubtotal,this.getShippingPrice,this.getCouponDiscountPrice].reduce((e,i)=>e+i,0)},getOrderPriceFormatted(){return P.format(this.getOrderPrice)},getShippingPrice(){return 34.9},getShippingPriceFormatted(){return P.format(this.getShippingPrice)},getCouponDiscountPrice(){var e,i,t;return this.hasNullCoupon||this.hasInvalidCoupon?0:({value:e,is_percentage:i}=this.coupon,t=this.getParsedPriceForApplyDiscount,i?Math.min(e/100,1)*(-1*t):-1*Math.min(t,e))},getCouponDiscountPriceFormatted(){return P.format(this.getCouponDiscountPrice)},getParsedPriceForApplyDiscount(){return this.hasNullCoupon||this.hasInvalidCoupon?0:{subtotal:this.getOrderSubtotal,shipping:this.getShippingPrice,product_id:0}[this.coupon.cupom_type]},getParsedProducts(){var e=this.productlist?.items;return e?e.map(({name:e,imageUrl:i,quantity:t,price:r})=>({name:e,image:i,quantity:t,price:P.format(r),finalPrice:P.format(r*t)})):[]},isPersonalDataValid(){return!this.isSubmitted||[this.customerMailValidation.valid,this.customerBirthdateValidation.valid,this.customerCPFValidation.valid,this.customerPhoneValidation.valid].every(Boolean)},customerMailValidation(){return M(this.customerMailElement,!this.hasVisitRegistry("customerMail")||R(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.customerMail))},customerBirthdateValidation(){var e=this.customerBirthdate;return M(this.customerBirthdateElement,!this.hasVisitRegistry("customerBirthdate")||R(/^\d{2}\/\d{2}\/\d{4}$/,e)&&(e=>{var[e,i,t]=e.split(a);return"Invalid Date"!==new Date(t+`-${i}-${e}T00:00:00`).toString()})(e))},customerCPFValidation(){var i,e=this.customerCPF;return M(this.customerCPFElement,!this.hasVisitRegistry("customerCPF")||R(/^\d{3}\.\d{3}\.\d{3}-\d{2}$/,this.customerCPF)&&11===(i=D(i=e)).length&&!/^(\d)\1{10}$/.test(i)&&(e=p.map((r,e)=>{e=11-[...i.slice(0,e?10:9)].map(Number).reduce((e,i,t)=>e+i*(r-t),0)%11;return 9<e?0:e}),i.endsWith(e.join(n))))},customerPhoneValidation(){return M(this.customerPhoneElement,!this.hasVisitRegistry("customerPhone")||R(/\(\d{2}\)\s\d{4,5}-\d{4}/,this.customerPhone))},paymentMethodValidation(){return M(this.paymentMethodMessageElement,this.selectedPayment!==t)},customerCreditCardHolderValidation(){return M(this.customerCreditCardHolderElement,!this.hasVisitRegistry("customerCreditCardHolder")||/^(\w{2,})(\s+(\w+))+$/.test(E(A(this.customerCreditCardHolder).replace(/\s{2,}/g," "))),!this.isCreditCard)},customerCreditCardNumberValidation(){return M(this.customerCreditCardNumberElement,!this.hasVisitRegistry("customerCreditCardNumber")||R(/^(\d{4})(\s\d{4}){2}(\s\d{3,4})$/,A(this.customerCreditCardNumber)),!this.isCreditCard)},customerCreditCardDateValidation(){var e,i=this.customerCreditCardDate;return M(this.customerCreditCardDateElement,!this.hasVisitRegistry("customerCreditCardDate")||R(/^(1[012]|0[1-9])\/\d{2}$/,i)&&2===(i=(i=i).split(a)).length&&([i,e]=i,i=parseInt(i,10),e=parseInt(e,10),!(isNaN(i)||isNaN(e)||i<1||12<i))&&new Date<new Date(2e3+(e<100?e:0),i,0,23,59,59),!this.isCreditCard)},customerCreditCardCVVValidation(){return M(this.customerCreditCardCVVElement,!this.hasVisitRegistry("customerCreditCardCVV")||R(/^\d{3}$/,this.customerCreditCardCVV),!this.isCreditCard)},isCreditCardGroupValid(){return[this.customerCreditCardHolderValidation.valid,this.customerCreditCardNumberValidation.valid,this.customerCreditCardDateValidation.valid,this.customerCreditCardCVVValidation.valid].every(Boolean)},billingCEPValidation(){return M(this.billingCEPElement,!this.hasVisitRegistry("billingCEP")||R(/^\d{5}-\d{3}$/,this.billingCEP),!this.isCreditCard)},billingAddressValidation(){return M(this.billingAddressElement,!this.hasVisitRegistry("billingAddress")||2<S(A(this.billingAddress)),!this.isCreditCard)},billingNumberValidation(){return M(this.billingNumberElement,!this.hasVisitRegistry("billingNumber")||0<S(this.billingNumber),!this.isCreditCard)},billingNeighborhoodValidation(){return M(this.billingNeighborhoodElement,!this.hasVisitRegistry("billingNeighborhood")||0<S(this.billingNeighborhood),!this.isCreditCard)},billingCityValidation(){return M(this.billingCityElement,!this.hasVisitRegistry("billingCity")||2<S(this.billingCity),!this.isCreditCard)},billingStateValidation(){return M(this.billingStateElement,!this.hasVisitRegistry("billingState")||w(c,this.billingState),!this.isCreditCard)},isBillingAddressGroupValid(){return[this.billingCEPValidation,this.billingAddressValidation,this.billingNumberValidation,this.billingNeighborhoodValidation,this.billingCityValidation,this.billingStateValidation].every(e=>e.valid)},deliveryPlaceValidation(){return M(this.deliveryPlaceElement,this.hasSelectedAddress,!this.isCreditCard)},shippingRecipientValidation(){return M(this.shippingRecipientElement,!this.hasVisitRegistry("shippingRecipient")||R(/^(\w{2,})(\s+(\w+))+$/,E(A(this.shippingRecipient)).replace(/\s{2,}/g," ")),!this.shouldValidateShippingAddress)},shippingCEPValidation(){return M(this.shippingCEPElement,!this.hasVisitRegistry("shippingCEP")||R(/^\d{5}-\d{3}$/,this.shippingCEP),!this.shouldValidateShippingAddress)},shippingAddressValidation(){return M(this.shippingAddressElement,!this.hasVisitRegistry("shippingAddress")||2<S(A(this.shippingAddress)),!this.shouldValidateShippingAddress)},shippingNumberValidation(){return M(this.shippingNumberElement,!this.hasVisitRegistry("shippingNumber")||0<S(A(this.shippingNumber)),!this.shouldValidateShippingAddress)},shippingNeighborhoodValidation(){return M(this.shippingNeighborhoodElement,!this.hasVisitRegistry("shippingNeighborhood")||3<S(A(this.shippingNeighborhood)),!this.shouldValidateShippingAddress)},shippingCityValidation(){return M(this.shippingCityElement,!this.hasVisitRegistry("shippingCity")||2<S(A(this.shippingCity)),!this.shouldValidateShippingAddress)},shippingStateValidation(){return M(this.shippingStateElement,!this.hasVisitRegistry("shippingState")||w(c,this.shippingState),!this.shouldValidateShippingAddress)},isShippingAddressGroupValid(){return[this.shippingCEPValidation,this.shippingAddressValidation,this.shippingNumberValidation,this.shippingNeighborhoodValidation,this.shippingCityValidation,this.shippingStateValidation].every(e=>e.valid)},deliveryDatesGroupValidation(){return M(this.deliveryDateMessageElement,this.deliveryDate!==t,!this.paymentMethodValidation.valid)},deliveryHoursGroupValidation(){return M(this.deliveryHourMessageElement,this.deliveryHour!==t,!this.deliveryDatesGroupValidation.valid)},notIgnoredFields(){return[this.customerMailValidation,this.customerBirthdateValidation,this.customerCPFValidation,this.customerPhoneValidation,this.paymentMethodValidation,this.customerCreditCardHolderValidation,this.customerCreditCardNumberValidation,this.customerCreditCardDateValidation,this.customerCreditCardCVVValidation,this.billingCEPValidation,this.billingAddressValidation,this.billingNumberValidation,this.billingNeighborhoodValidation,this.billingCityValidation,this.billingStateValidation,this.deliveryPlaceValidation,this.shippingRecipientValidation,this.shippingCEPValidation,this.shippingAddressValidation,this.shippingNumberValidation,this.shippingNeighborhoodValidation,this.shippingCityValidation,this.shippingStateValidation,this.deliveryDatesGroupValidation,this.deliveryHoursGroupValidation].filter(({ignoreIf:e})=>w([!1,void 0],e))},firstInvalidField(){return this.notIgnoredFields.find(({valid:e})=>!e)??t},hasSelectedAddress(){return this.deliveryPlace!==t},isSameAddress(){return this.deliveryPlace===C},isDiffAddress(){return this.deliveryPlace===y},shouldValidateShippingAddress(){return!this.isCreditCard||this.showShippingAddressSelector&&!this.isSameAddress},showShippingAddressSelector(){return!this.isCreditCard||(this.isCreditCard,this.hasSelectedAddress)},getParsedAddresses(){var e=e=>u[e]??n,i=e=>A(e).replace(/-+/g,n)||"N/A",t={zipPostalCode:this.shippingCEP,street:this.shippingAddress,number:this.shippingNumber,complement:i(this.shippingComplement),neighbourhood:this.shippingNeighborhood,city:this.shippingCity,state:e(this.shippingState)},i={zipPostalCode:this.billingCEP,street:this.billingAddress,number:this.billingNumber,complement:i(this.billingComplement),neighbourhood:this.billingNeighborhood,city:this.billingCity,state:e(this.billingState)};return this.isCreditCard?{billingaddress:i,shippingaddress:this.isSameAddress?i:t}:{shippingaddress:t,billingaddress:t}},getParsedCustomer(){return{name:this.isCreditCard?this.customerCreditCardHolder:this.shippingRecipient,cpf:this.customerCPF,email:this.customerMail,birthDate:this.customerBirthdate,phone:this.customerPhone}},getOrderBaseData(){return{user_id:t,coupon_code:this.hasInvalidCoupon||this.hasNullCoupon?t:this.coupon?.code,delivery:{delivery_hour:this.deliveryHour,delivery_date:this.deliveryDate}}},showInstallmentSection(){return this.isCreditCard&&0<S(this.installment??[])},getParsedInstallments(){var e=this.installment;return e?e.map(({installments:e,installment_value:i})=>({installments:e,installment_value:P.format(i)})):[]},hasNullCoupon(){return this.coupon===t},hasAppliedCoupon(){return V(this.coupon??{},"cupom_type")},hasInvalidCoupon(){return V(this.coupon??{},r)},isCouponCodeValid(){var e=this.couponCode;return 4<S(A(e))&&!R(/[^A-Z\d]/,e)},getCreditCardToken(){var e,i;return this.isPagSeguroLoaded?([e,i]=this.customerCreditCardDate.split(a),window.PagSeguro.encryptCard({expMonth:e,expYear:"20".concat(i),holder:this.customerCreditCardHolder,securityCode:this.customerCreditCardCVV,number:D(this.customerCreditCardNumber),publicKey:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxPIKWT6ettkFKqSyfoUpH/550Q8YQtRf7ZYJJbV3U7/4HBtamJT9If4wiLs2YlEfwTPWlB5Cl0jGmkBSQkjIDF+QTOSJviZYKgiuR7Bnavgt+idkcZsd5hM1I6u1uwOJJE3wSSXg+Nw70GZCeg7A6bmq9tOu1827En/ZFKWBXqv9Upc7q/Y6N0XMzZ3CL1j6ZlhnCalQzzaV9whijxK22lIL78gLEUcnmEO7CUX6DyfcdlA13MM4X538k2eYUosdnKafCEDNVcT+PPUeUdJZ0CpBWA9c/XtO0BIbTXHTsDuDlX0r7BF0vMFJMi0D9lkFCavY/kjZEQYhnXMtrWlUWwIDAQAB"})):{errors:[],hasErrors:!1,encryptedCard:t}},hasDeliveryDates(){var e=this.deliveryDates;return Array.isArray(e)&&0<S(e)},getParsedDeliveryDates(){if(!this.hasDeliveryDates)return[];let r=this.deliveryDate;return this.deliveryDates.map(({date:e,shiftDays:i})=>{var t=new Date(e+"T00:00:00");return{shiftDays:i,selected:r===e,date:t.toLocaleDateString("pt-BR",{month:"long",day:"numeric",weekday:"long"})}})},hasDeliveryHour(){return this.deliveryHours!==t&&0<S(this.deliveryHours.hours)},getParsedDeliveryHours(){if(!this.deliveryDate||!this.hasDeliveryHour)return[];let i={hour12:!0,hour:"2-digit",minute:"2-digit"};return this.deliveryHours.hours.map(e=>({hour:e,label:new Date(this.deliveryDate+`T${e}:00`).toLocaleTimeString("pt-BR",i)}))}},watch:{billingCEP(e,i){this.captureAddress("billing",e.toString(),i)},shippingCEP(e,i){this.captureAddress("shipping",e,i)},getOrderPrice:{immediate:!0,handler:function(){this.refreshInstallments()}},getCreditCardToken(e){e.hasErrors||this.refreshInstallments()}},directives:{maskDate:F(D,function(e){return e.replace(/^(\d{0,2})(\d{0,2})(\d{0,4})/,(e,i,t,r)=>[i,t,r].filter(Boolean).join(a))}),maskCpf:F(D,function(e){return e.replace(/^(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,2})/,(e,i,t,r,s)=>{var a=[];return N(i,a,""+i),N(t,a,"."+t),N(r,a,"."+r),N(s,a,"-"+s),a.join(n)})}),maskPhone:F(D,function(e){var i=(e,i,t,r)=>{var s=[];return N(i,s,"("+i),N(t,s,") "+t),N(r,s,"-"+r),s.join(n)};return e.length<11?e.replace(/^(\d{0,2})(\d{0,4})(\d{0,4})/,i):e.replace(/^(\d{0,2})(\d{0,5})(\d{0,4})/,i)}),maskCreditCard:F(D,function(e){return e.replace(/^(\d{0,4})(\d{0,4})(\d{0,4})(\d{0,4})/,(e,i,t,r,s)=>{var a,n=[];for(a of[i,t,r,s])N(a,n,a);return n.join(" ")})}),maskCreditCardDate:F(D,function(e){return e.replace(/^(\d{0,2})(\d{0,2})/,(e,i,t)=>{var r,s=[];for(r of[i,t])N(r,s,r);return s.join(a)})}),maskNumberOnly:F(D),maskCep:F(D,function(e){return e.replace(/^(\d{0,5})(\d{0,3})/,(e,i,t)=>{var r,s=[];for(r of[i,t])N(r,s,r);return s.join("-")})}),upperCase:F(function(e){return e.toUpperCase()}),normalize:F(E),visitedField:{mounted(i,{value:t,instance:r}){var e=k(i,"blur",e=>{r.setVisitedField(t),m.delete(i)},{once:!0});m.set(i,e)},unmounted:j}}}).mount("#fechamentodopedido")})();