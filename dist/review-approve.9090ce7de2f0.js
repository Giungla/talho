"use strict";(()=>{var E="; ";function c(e){let o=document.cookie.split(E).find(t=>{let{name:r}=m(t);return r===e});return o?m(o).value:!1}function m(e){let[o,t]=e.split("=");return{name:o,value:t}}function d(e,o,t={}){if(e.length===0)throw new Error("'setCookie' should receive a valid cookie name");if(!["string","number","boolean"].includes(typeof o)||o.toString().length===0)throw new Error("'setCookie' should receive a valid cookie value");let r=[`${e}=${o}`];t?.expires&&t?.expires instanceof Date&&r.push("expires="+t.expires.toUTCString()),t.maxAge&&r.push(`maxAge=${t.maxAge}`),t?.sameSite&&typeof t?.sameSite=="string"&&r.push(`SameSite=${t?.sameSite}`),t?.path&&r.push(`path=${t?.path}`),t?.domain&&r.push(`domain=${t?.path}`),t?.httpOnly&&r.push("HttpOnly"),t?.secure&&r.push("Secure");let n=r.join(E);return document.cookie=n,n}var M=401,A="__Host-Talho-AuthToken",g="__Host-Talho-Session-Cookie",S="X-Talho-Session";function w(e){!e||e.status!==M||(location.href=y("/acessos/entrar",{redirect_to:encodeURIComponent(location.pathname)}))}function v(e){let o=e?.headers.get(S);o&&d(g,o,{path:"/",secure:!0,sameSite:"Strict",expires:new Date(Date.now()+T(90))})}function p(e){return v(this),w(this),{message:e,succeeded:!1}}function x(e){return v(this),{data:e,succeeded:!0}}function R(e=[],o="GET"){let t=new Headers({Accept:"application/json","Content-Type":"application/json"});for(let[i,f]of e)t.set(i,f);let r=c(g);r&&t.set(S,r);let n=c(A);return n&&t.set("Authorization",n),{method:o,headers:t}}function T(e){return 86400*1e3*e}var k=new Intl.NumberFormat("pt-BR",{currency:"BRL",style:"currency"});var b=null;function u(e,o=document){return o?o.querySelector(e):b}function l(e,o){e&&(e.textContent=typeof o=="string"?o:o.toString())}function y(e,o={}){let t=new URL(`${location.protocol}//${location.hostname}`),r=new URL(e,t);for(let[n,i]of Object.entries(o))r.searchParams.set(n,i);return r.toString()}function _(e){return JSON.stringify(e)}var h={AC:"Acre",AL:"Alagoas",AP:"Amap\xE1",AM:"Amazonas",BA:"Bahia",CE:"Cear\xE1",DF:"Distrito Federal",ES:"Esp\xEDrito Santo",GO:"Goi\xE1s",MA:"Maranh\xE3o",MT:"Mato Grosso",MS:"Mato Grosso do Sul",MG:"Minas Gerais",PA:"Par\xE1",PB:"Para\xEDba",PR:"Paran\xE1",PE:"Pernambuco",PI:"Piau\xED",RJ:"Rio de Janeiro",RN:"Rio Grande do Norte",RS:"Rio Grande do Sul",RO:"Rond\xF4nia",RR:"Roraima",SC:"Santa Catarina",SP:"S\xE3o Paulo",SE:"Sergipe",TO:"Tocantins"},P=Object.keys(h),D=Object.values(h);var C="https://xef5-44zo-gegm.b2.xano.io";(function(){let e=new URLSearchParams(location.search),o=e.get("action"),t=e.get("review_id");if(!o||!t)return;let r=u("[data-wtf-error-review]"),n=u("[data-wtf-approve-review]");function i(s){if(s)return s.remove()}async function f({review_id:s,action:L}){let O="N\xE3o foi poss\xEDvel alterar a situa\xE7\xE3o da avalia\xE7\xE3o";try{let a=await fetch(`${C}/api:9ixgU7Er/ratings/${s}/${L}`,{...R([],"PATCH"),body:_({})});if(!a.ok){let I=await a.json();return p.call(a,I?.message??O)}let N=await a.json();return x.call(a,N)}catch{return p(O)}}f({action:o,review_id:parseInt(t)}).then(s=>{if(!s.succeeded)return i(n),l(u("div",r),s.message);i(r),l(u("div",n),s.data.message)})})();})();
