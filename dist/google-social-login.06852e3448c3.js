"use strict";(()=>{var N=401,u="__Host-Talho-AuthToken",m="__Host-Talho-Session-Cookie",d="X-Talho-Session";function b(e){!e||e.status!==N||(location.href=S("/acessos/entrar",{redirect_to:encodeURIComponent(location.pathname)}))}function _(e){let n=e?.headers.get(d);n&&p(m,n,{path:"/",secure:!0,sameSite:"Strict",expires:new Date(Date.now()+g(90))})}function c(e){return _(this),b(this),{message:e,succeeded:!1}}function E(e){return _(this),{data:e,succeeded:!0}}function A(e=[],n="GET"){let t=new Headers({Accept:"application/json","Content-Type":"application/json"});for(let[i,l]of e)t.set(i,l);let o=a(m);o&&t.set(d,o);let r=a(u);return r&&t.set("Authorization",r),{method:n,headers:t}}function x(){return!!a(u)}function S(e,n={}){let t=new URL(`${location.protocol}//${location.hostname}`),o=new URL(e,t);for(let[r,i]of Object.entries(n))o.searchParams.set(r,i);return o.toString()}function f(e){return e.length}var T="; ";function a(e){let n=document.cookie.split(T).find(t=>{let{name:o}=h(t);return o===e});return n?h(n).value:!1}function h(e){let[n,t]=e.split("=");return{name:n,value:t}}function p(e,n,t={}){if(f(e)===0)throw new Error("'setCookie' should receive a valid cookie name");if(!["string","number","boolean"].includes(typeof n)||f(n.toString())===0)throw new Error("'setCookie' should receive a valid cookie value");let o=[`${e}=${n}`];t?.expires&&t?.expires instanceof Date&&o.push("expires="+t.expires.toUTCString()),t.maxAge&&o.push(`maxAge=${t.maxAge}`),t?.sameSite&&typeof t?.sameSite=="string"&&o.push(`SameSite=${t?.sameSite}`),t?.path&&o.push(`path=${t?.path}`),t?.domain&&o.push(`domain=${t?.path}`),t?.httpOnly&&o.push("HttpOnly"),t?.secure&&o.push("Secure");let r=o.join(T);return document.cookie=r,r}function g(e){return 86400*1e3*e}var I=new Intl.NumberFormat("pt-BR",{currency:"BRL",style:"currency"});var R={AC:"Acre",AL:"Alagoas",AP:"Amap\xE1",AM:"Amazonas",BA:"Bahia",CE:"Cear\xE1",DF:"Distrito Federal",ES:"Esp\xEDrito Santo",GO:"Goi\xE1s",MA:"Maranh\xE3o",MT:"Mato Grosso",MS:"Mato Grosso do Sul",MG:"Minas Gerais",PA:"Par\xE1",PB:"Para\xEDba",PR:"Paran\xE1",PE:"Pernambuco",PI:"Piau\xED",RJ:"Rio de Janeiro",RN:"Rio Grande do Norte",RS:"Rio Grande do Sul",RO:"Rond\xF4nia",RR:"Roraima",SC:"Santa Catarina",SP:"S\xE3o Paulo",SE:"Sergipe",TO:"Tocantins"},M=Object.keys(R),v=Object.values(R);var y="https://xef5-44zo-gegm.b2.xano.io";(function(){let e="/area-do-usuario/pedidos-de-compra";if(x()){location.href=e;return}async function n(o){let r="Houve uma falha na autentica\xE7\xE3o via Google. Por favor, tente novamente mais tarde.";if(o===!1)return c(r);let i=new URL(`${y}/api:h_RKfex8/oauth/google/continue`);i.searchParams.set("code",o),i.searchParams.set("redirect_uri",location.origin.concat(location.pathname));let l=new URL(location.href),O=["code","scope","authuser","hd","prompt"];for(let s of O)l.searchParams.delete(s);history.replaceState(null,"",l.toString());try{let s=await fetch(i,{...A()});if(!s.ok){let L=await s.json();return c.call(s,L?.message??r)}let C=await s.json();return E.call(s,C)}catch{return c(r)}}let t=new URLSearchParams(location.search);n(t.get("code")??!1).then(o=>{if(!o.succeeded)return console.warn("[Social Login] %s",o.message);p(u,o.data.token,{path:"/",secure:!0,sameSite:"Strict",expires:new Date(o.data.maxAge)}),location.href=e})})();})();
