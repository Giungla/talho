"use strict";(()=>{(function(){"use strict";let M="__Host-Talho-AuthToken",E="oculto",a="disabled",S="mensagemdeerro",A="[data-wtf-wrapper]",b="/area-do-usuario/pedidos-de-compra",T="#wf-form-recover-password";function d(e,t,n,o){if(e)return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function r(e,t=document){return t?t.querySelector(e):null}function h(e){let t=document.cookie.split("; ").find(n=>{let{name:o}=v(n);return o===e});return t?v(t).value:!1}function v(e){let[t,n]=e.split("=");return{name:t,value:n}}function P(){return!!h(M)}function w(e){return function(t){return[e,t]}}function g(e,t){if(!e)return;let n=e.closest(A);n&&p(n,S,!t)}function f(e){return{message:e,succeeded:!1}}function k(e){return{data:e,succeeded:!0}}function c(e,t){e&&e.removeAttribute(t)}function H(e,...t){e&&e.classList.remove(...t)}function p(e,t,n){return e?e.classList.toggle(t,n):!1}function y(e,t){let n=!t.succeeded;if(!e)return;let o=r("[data-wtf-general-error-message]",e),m=r("[data-wtf-success-message]",e);if(p(o,E,!n),p(m,E,n),!n)return;let L=o&&r("div",o);L&&(L.textContent=t.message)}async function _(e){let t="Houve uma falha ao enviar o token. Por favor, tente novamente mais tarde.";try{let n=await fetch("https://xef5-44zo-gegm.b2.xano.io/api:uImEuFxO/auth/magic-link",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!n.ok){let m=await n.json();return f(m?.message??t)}let o=await n.json();return k(o)}catch{return f(t)}}if(P()){location.href=b;return}let i=r(T);if(i){let e=["name","method","data-name","aria-label","data-wf-page-id","data-wf-element-id","data-turnstile-sitekey"];for(let n of e)c(i,n);let t=i.parentNode;i.remove(),H(t,"w-form"),t.insertAdjacentHTML("afterbegin",i.outerHTML)}let u=r(T),l=r('[type="submit"]',u);c(l,a);let s=r("[data-wtf-user]");function R(){let e=w("wtfEmail");if(!s)return e(!1);let t=/^(([\p{L}\p{N}!#$%&'*+\/=?^_`{|}~-]+(\.[\p{L}\p{N}!#$%&'*+\/=?^_`{|}~-]+)*)|("[\p{L}\p{N}\s!#$%&'*+\/=?^_`{|}~.-]+"))@(([a-zA-Z0-9]+(-[a-zA-Z0-9]+)*\.)+[a-zA-Z]{2,63}|(\[(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\]))$/u.test(s.value);return g(s,t),e(t)}d(s,"blur",R),d(s,"input",()=>g(s,!0)),d(u,"submit",function(e){e.preventDefault(),e.stopPropagation(),l?.setAttribute(a,a);let[,t]=R();if(!t)return y(u,f("Houve uma falha ao validar seus dados. Por favor, tente novamente.")),c(l,a);_(s?.value??"").then(n=>{y(u,n),c(l,a),n.succeeded&&u?.reset()})},!1)})();})();
