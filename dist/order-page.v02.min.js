(()=>{var e=window.Vue.createApp;let t=null,s="-",o=new Intl.NumberFormat("pt-BR",{currency:"BRL",style:"currency"});function a(e,r=document){return r?r.querySelector(e):t}function n(e){return{message:e,succeeded:!1}}e({name:"TalhoOrderPage",setup(){},data(){return{order:t}},async created(){var e,r,t=new URLSearchParams(location.search).get("order");t&&(t=await this.getOrder(t)).succeeded?(this.order=t.data,t=!1,e=a("[data-wtf-loader]"),r="oculto",t=!t,e&&e.classList.toggle(r,t)):location.href="/"},mounted(){},methods:{async getOrder(e){var r="Falha ao capturar o pedido";try{var t=await fetch("https://xef5-44zo-gegm.b2.xano.io/api:5lp3Lw8X/order-details/"+e,{headers:{Accept:"application/json"}});return t.ok?{data:await t.json(),succeeded:!0}:n((await t.json())?.message??r)}catch(e){return n(r)}}},computed:{name(){return this.order?.name??s},email(){return this.order?.email??s},cpf(){return this.order?.cpf_cnpj??s},phone(){return this.order?.phone??s},shipping(){var{number:e=s,cep:r=s,address:t=s,state:a=s,city:o=s,complement:n=s,neighborhood:d=s,user_name:i=s}=this.order?.shipping_address??{};return{user_name:i,cep:r,address:t,number:e,complement:n,neighborhood:d,city:o,state:a}},billing(){var{cep:e=s,address:r=s,number:t=s,complement:a=s,neighborhood:o=s,city:n=s,state:d=s}=this.order?.billing_address??{};return{cep:e,address:r,number:t,complement:a,neighborhood:o,city:n,state:d}},hasOrderDiscount(){return this.order?.discount_code!==t},getOrderSubtotalPriceFormatted(){var e=this.order?.order_items.reduce((e,{unit_amount:r,quantity:t})=>e+r*t,0);return o.format(e?e/100:0)},getOrderPriceFormatted(){return o.format(this.order?.total??0)},getOrderShippingPriceFormatted(){return o.format(this.order?.shipping_total??0)},getOrderDiscountPriceFormatted(){return o.format(-1*(this.order?.discount??0))},getParsedProducts(){var{order_items:e=[]}=this.order??{};return e.map(({title:e,slug:r,unit_amount:t,quantity:a})=>({title:e,quantity:a,key:r,unit_amount:o.format(t/100),final_price:o.format(t*a/100)}))}}}).mount(a("#orderapp"))})();